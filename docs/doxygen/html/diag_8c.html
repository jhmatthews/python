<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Python MCRT: /Users/mhewitt/python/source/diag.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Python MCRT
   </div>
   <div id="projectbrief">A Monte Carlo radiative transfer and ionization code</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('diag_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">diag.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>consolidates an approach to providing extra diagnositcs for debugging python, Some of the diagnostics allow one to change defaults in python while others allow traking of and contains initialization routines that control which diagnosics are a  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;math.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &quot;<a class="el" href="atomic_8h_source.html">atomic.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="python_8h_source.html">python.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for diag.c:</div>
<div class="dyncontent">
<div class="center"><img src="diag_8c__incl.png" border="0" usemap="#_2_users_2mhewitt_2python_2source_2diag_8c" alt=""/></div>
<map name="_2_users_2mhewitt_2python_2source_2diag_8c" id="_2_users_2mhewitt_2python_2source_2diag_8c">
<area shape="rect" id="node6" href="atomic_8h.html" title="atomic.h" alt="" coords="315,95,375,121"/>
<area shape="rect" id="node7" href="python_8h.html" title="python.h" alt="" coords="399,95,459,121"/>
<area shape="rect" id="node8" href="log_8h.html" title="log.h" alt="" coords="283,169,327,196"/>
<area shape="rect" id="node9" href="version_8h.html" title="version.h" alt="" coords="351,169,413,196"/>
<area shape="rect" id="node10" href="templates_8h.html" title="templates.h" alt="" coords="437,169,511,196"/>
<area shape="rect" id="node11" href="recipes_8h.html" title="recipes.h" alt="" coords="535,169,597,196"/>
</map>
</div>
</div>
<p><a href="diag_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:acb7ea92897c7bc8fa09f98078babcc01"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="diag_8c.html#acb7ea92897c7bc8fa09f98078babcc01">get_standard_care_factors</a> ()</td></tr>
<tr class="memdesc:acb7ea92897c7bc8fa09f98078babcc01"><td class="mdescLeft">&#160;</td><td class="mdescRight">get inputs that provides more control over how the program is run  <a href="#acb7ea92897c7bc8fa09f98078babcc01">More...</a><br /></td></tr>
<tr class="separator:acb7ea92897c7bc8fa09f98078babcc01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab28b32b3a1f983da958d2a6a8a0554fc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="diag_8c.html#ab28b32b3a1f983da958d2a6a8a0554fc">get_extra_diagnostics</a> ()</td></tr>
<tr class="memdesc:ab28b32b3a1f983da958d2a6a8a0554fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allows the user to specify what extra diagnositcs to write out.  <a href="#ab28b32b3a1f983da958d2a6a8a0554fc">More...</a><br /></td></tr>
<tr class="separator:ab28b32b3a1f983da958d2a6a8a0554fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae56c24fbf634a302259671a903bcea7e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="diag_8c.html#ae56c24fbf634a302259671a903bcea7e">init_extra_diagnostics</a> ()</td></tr>
<tr class="memdesc:ae56c24fbf634a302259671a903bcea7e"><td class="mdescLeft">&#160;</td><td class="mdescRight">opon a file for writing out extra diagnostics. In some cases reads a file that specifies in which cells ones wants diagnostics  <a href="#ae56c24fbf634a302259671a903bcea7e">More...</a><br /></td></tr>
<tr class="separator:ae56c24fbf634a302259671a903bcea7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c8114c71c12528c31d3329d1a5a7777"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="diag_8c.html#a1c8114c71c12528c31d3329d1a5a7777">save_photon_stats</a> (<a class="el" href="python_8h.html#ad957272e4ddecfb558775b2aeddf2ac4">WindPtr</a> one, <a class="el" href="python_8h.html#ad2424d53ebcf811656882a87e11b440c">PhotPtr</a> p, double ds, double w_ave)</td></tr>
<tr class="memdesc:a1c8114c71c12528c31d3329d1a5a7777"><td class="mdescLeft">&#160;</td><td class="mdescRight">prints photon statistics to a file  <a href="#a1c8114c71c12528c31d3329d1a5a7777">More...</a><br /></td></tr>
<tr class="separator:a1c8114c71c12528c31d3329d1a5a7777"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9812264d4df596406d5878299e8b7e5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="diag_8c.html#ad9812264d4df596406d5878299e8b7e5">save_extract_photons</a> (int n, <a class="el" href="python_8h.html#ad2424d53ebcf811656882a87e11b440c">PhotPtr</a> p, <a class="el" href="python_8h.html#ad2424d53ebcf811656882a87e11b440c">PhotPtr</a> pp, double *<a class="el" href="import__spherical_8c.html#ac2915aad3a05ff2328a7ad7fa6d37e86">v</a>)</td></tr>
<tr class="memdesc:ad9812264d4df596406d5878299e8b7e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">saves informations about phtoons in a particulare wavelength gange  <a href="#ad9812264d4df596406d5878299e8b7e5">More...</a><br /></td></tr>
<tr class="separator:ad9812264d4df596406d5878299e8b7e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a852eb08f6a48973ca3dfd61567803ee8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="diag_8c.html#a852eb08f6a48973ca3dfd61567803ee8">save_photons</a> (<a class="el" href="python_8h.html#ad2424d53ebcf811656882a87e11b440c">PhotPtr</a> p, comment)</td></tr>
<tr class="memdesc:a852eb08f6a48973ca3dfd61567803ee8"><td class="mdescLeft">&#160;</td><td class="mdescRight">save_photon  <a href="#a852eb08f6a48973ca3dfd61567803ee8">More...</a><br /></td></tr>
<tr class="separator:a852eb08f6a48973ca3dfd61567803ee8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36a9f5603f59602831695269c056cbe4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="diag_8c.html#a36a9f5603f59602831695269c056cbe4">track_scatters</a> (<a class="el" href="python_8h.html#ad2424d53ebcf811656882a87e11b440c">PhotPtr</a> p, int nplasma, char *comment)</td></tr>
<tr class="separator:a36a9f5603f59602831695269c056cbe4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a11a7b3a6415f5b7dab044fdecb221290"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="diag_8c.html#a11a7b3a6415f5b7dab044fdecb221290">eplinit</a> = 0</td></tr>
<tr class="separator:a11a7b3a6415f5b7dab044fdecb221290"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9654f2212b3e8e58fb6e61ae9751deff"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="diag_8c.html#a9654f2212b3e8e58fb6e61ae9751deff">pstatinit</a> = 0</td></tr>
<tr class="memdesc:a9654f2212b3e8e58fb6e61ae9751deff"><td class="mdescLeft">&#160;</td><td class="mdescRight">To say if we have checked to see if we need to log photons.  <a href="#a9654f2212b3e8e58fb6e61ae9751deff">More...</a><br /></td></tr>
<tr class="separator:a9654f2212b3e8e58fb6e61ae9751deff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c920244fb7c509b78eacdd7cc843754"><td class="memItemLeft" align="right" valign="top">FILE *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="diag_8c.html#a1c920244fb7c509b78eacdd7cc843754">epltptr</a></td></tr>
<tr class="memdesc:a1c920244fb7c509b78eacdd7cc843754"><td class="mdescLeft">&#160;</td><td class="mdescRight">Extra diagnostics file.  <a href="#a1c920244fb7c509b78eacdd7cc843754">More...</a><br /></td></tr>
<tr class="separator:a1c920244fb7c509b78eacdd7cc843754"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ddae9aa9fbb2071a1acbb0b9dcbf255"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="diag_8c.html#a3ddae9aa9fbb2071a1acbb0b9dcbf255">save_photon_number</a> = 0</td></tr>
<tr class="separator:a3ddae9aa9fbb2071a1acbb0b9dcbf255"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>consolidates an approach to providing extra diagnositcs for debugging python, Some of the diagnostics allow one to change defaults in python while others allow traking of and contains initialization routines that control which diagnosics are a </p>
<dl class="section author"><dt>Author</dt><dd>ksl </dd></dl>
<dl class="section date"><dt>Date</dt><dd>May, 2018</dd></dl>
<p>The first few functions are associated with gather information about what one wants to track</p>
<p>The basic idea for the extra diagnositics routines are as follows:</p>
<p>There is one file to which all of the diagnostics are written. Which diagnositica are written depends on how varaious of the modes variables are set.</p>
<p>All of the various diagnostic routines should be line oriented and begin with a unique identifier to allow easy parsing of the outputs.</p>
<p>To add a new diagnostic one should</p>
<ul>
<li>(0) check that one of the existing diagnostics is insuffient for your needs</li>
<li>(1) add a routine here that writes to the diagnostic file.</li>
<li>(2) add a rdpar statement in get_extra_diagnostics</li>
<li>(3) Assure that your new routine has the appropriate doxygne description,</li>
<li>(4) Add a yaml file for the new rdpare statemnt), and</li>
<li>(5) call the routine with the approriate condidtions from wherever you wish.</li>
</ul>
<p>As written, you must put your routine here. This is done on purpose so that we will not proliferate extra diagnostics around the various subroutines.</p>
<h3>Notes</h3>
<p>The unified approach makes most sense when one wants similar information spread out over several routines. There will be places where one wishes to print out detailed information within a certain routine. A current example is print_dvds_info, which is totally contained within <a class="el" href="gradv_8c.html" title="Routines related to calculating velocity gradients. ">gradv.c</a></p>
<p>This approached was adopted, based onthe discution isssue #338 A detailed look at the subroutines indicates that this, especially the part having to do with writing to a single diagnostic file is a work in progress.</p>
<p>Right now there are a numer of very similar routines, some of which might be combined. </p>

<p class="definition">Definition in file <a class="el" href="diag_8c_source.html">diag.c</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="ab28b32b3a1f983da958d2a6a8a0554fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab28b32b3a1f983da958d2a6a8a0554fc">&#9670;&nbsp;</a></span>get_extra_diagnostics()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int get_extra_diagnostics </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allows the user to specify what extra diagnositcs to write out. </p>
<dl class="section return"><dt>Returns</dt><dd>Always returns 0</dd></dl>
<p>Based on the inputs, the rougines modifies variables in the modes structure to turn on whichever modes are asked for.</p>
<p>The routine is just for setting up the options. The routine is called only if one has requested extra diagnostics.</p>
<h3>Notes</h3>
<p>see #111 and #120</p>
<dl class="bug"><dt><b><a class="el" href="bug.html#_bug000018">Bug:</a></b></dt><dd>This routine should be combined with get_standard_care_factors</dd></dl>

<p class="definition">Definition at line <a class="el" href="diag_8c_source.html#l00158">158</a> of file <a class="el" href="diag_8c_source.html">diag.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="diag_8c_ab28b32b3a1f983da958d2a6a8a0554fc_cgraph.png" border="0" usemap="#diag_8c_ab28b32b3a1f983da958d2a6a8a0554fc_cgraph" alt=""/></div>
<map name="diag_8c_ab28b32b3a1f983da958d2a6a8a0554fc_cgraph" id="diag_8c_ab28b32b3a1f983da958d2a6a8a0554fc_cgraph">
<area shape="rect" id="node2" href="log_8h.html#a4f4caa375f1c3a9def422000f305cce5" title="Print/write out an error message. " alt="" coords="172,125,216,152"/>
<area shape="rect" id="node9" href="log_8h.html#a9a25be4f0d7d13fccc8457774d74167f" title="Print/write an informational message. " alt="" coords="281,176,320,202"/>
<area shape="rect" id="node10" href="log_8h.html#a3a649b0453ce83dbb1b16de81e08f5af" title="rdint" alt="" coords="173,226,215,253"/>
<area shape="rect" id="node3" href="xlog_8c.html#aeb93dfd882dd6a658b86662e6e219a09" title="Open a log file. " alt="" coords="633,74,691,101"/>
<area shape="rect" id="node4" href="xlog_8c.html#aeaba9fb5d129e3ab9d5efa760206deff" title="track the number of errors of each type " alt="" coords="264,125,337,152"/>
<area shape="rect" id="node5" href="xlog_8c.html#a3d395705c83c0bda5aeee6a271fdfd47" title="Summarize the errors that have occurred. " alt="" coords="385,74,475,101"/>
<area shape="rect" id="node8" href="xlog_8c.html#a4f4caa375f1c3a9def422000f305cce5" title="Print/write out an error message. " alt="" coords="408,125,452,152"/>
<area shape="rect" id="node6" href="xlog_8c.html#a9a25be4f0d7d13fccc8457774d74167f" title="Print/write an informational message. " alt="" coords="535,24,573,50"/>
<area shape="rect" id="node7" href="log_8h.html#a488c6292e324fa9bd3793694c3d29826" title="message" alt="" coords="523,74,585,101"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="diag_8c_ab28b32b3a1f983da958d2a6a8a0554fc_icgraph.png" border="0" usemap="#diag_8c_ab28b32b3a1f983da958d2a6a8a0554fc_icgraph" alt=""/></div>
<map name="diag_8c_ab28b32b3a1f983da958d2a6a8a0554fc_icgraph" id="diag_8c_ab28b32b3a1f983da958d2a6a8a0554fc_icgraph">
<area shape="rect" id="node2" href="python_8c.html#afced8478b91af5c169926dfa4426333d" title="The main routine for Python, which supervises the ingest of data defining a model, the initializtion of the model, and actual run of the model, and writing the data to the disk. " alt="" coords="172,5,216,32"/>
</map>
</div>

</div>
</div>
<a id="acb7ea92897c7bc8fa09f98078babcc01"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb7ea92897c7bc8fa09f98078babcc01">&#9670;&nbsp;</a></span>get_standard_care_factors()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int get_standard_care_factors </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>get inputs that provides more control over how the program is run </p>
<dl class="section return"><dt>Returns</dt><dd>Always returns 0</dd></dl>
<p>In advanced mode, this routine provides ways to change several somewhat unrelated parameters in the routines</p>
<p>The parameters are</p><ul>
<li>the fractional distance a photons may travel</li>
<li>the lowest ion allowed to contribute to photabosrption</li>
<li>whether photoabsorption is considered in the final spectrum</li>
</ul>
<h3>Notes</h3>
<dl class="bug"><dt><b><a class="el" href="bug.html#_bug000017">Bug:</a></b></dt><dd>It is not obvious that much recent thought has been given to the choices that are here. The fractional distance that a photon travel is intended to make sure the velocity along the line of sight can be approximated linearly. If a photon travels too far in an azimuthal direction the sense of the velocity can change and this prevensts this</dd></dl>
<p>The lowest ion density contributing to photoionization is used to determine what ions one has to calculate the photoionzation xsection for. The lower this density; the more that have to be calculated, and as a result the slower the program.</p>
<p>Keeping photoionizaion during final spectrum allows one to check the contribution of photoabsorption. </p>

<p class="definition">Definition at line <a class="el" href="diag_8c_source.html#l00110">110</a> of file <a class="el" href="diag_8c_source.html">diag.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="diag_8c_acb7ea92897c7bc8fa09f98078babcc01_cgraph.png" border="0" usemap="#diag_8c_acb7ea92897c7bc8fa09f98078babcc01_cgraph" alt=""/></div>
<map name="diag_8c_acb7ea92897c7bc8fa09f98078babcc01_cgraph" id="diag_8c_acb7ea92897c7bc8fa09f98078babcc01_cgraph">
<area shape="rect" id="node2" href="log_8h.html#a3a649b0453ce83dbb1b16de81e08f5af" title="rdint" alt="" coords="201,5,242,32"/>
<area shape="rect" id="node3" href="log_8h.html#a84776d33fbdc65228f584debd72e15e0" title="rddoub" alt="" coords="195,56,248,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="diag_8c_acb7ea92897c7bc8fa09f98078babcc01_icgraph.png" border="0" usemap="#diag_8c_acb7ea92897c7bc8fa09f98078babcc01_icgraph" alt=""/></div>
<map name="diag_8c_acb7ea92897c7bc8fa09f98078babcc01_icgraph" id="diag_8c_acb7ea92897c7bc8fa09f98078babcc01_icgraph">
<area shape="rect" id="node2" href="python_8c.html#afced8478b91af5c169926dfa4426333d" title="The main routine for Python, which supervises the ingest of data defining a model, the initializtion of the model, and actual run of the model, and writing the data to the disk. " alt="" coords="195,5,239,32"/>
</map>
</div>

</div>
</div>
<a id="ae56c24fbf634a302259671a903bcea7e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae56c24fbf634a302259671a903bcea7e">&#9670;&nbsp;</a></span>init_extra_diagnostics()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int init_extra_diagnostics </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>opon a file for writing out extra diagnostics. In some cases reads a file that specifies in which cells ones wants diagnostics </p>
<dl class="section return"><dt>Returns</dt><dd>Always retuns 0</dd></dl>
<p>This routine gets some residual inforamtion needed to specify exactlay what one wants to track, and opens files that will be used to write the diagnostics.</p>
<h3>Notes</h3>
<p>see #111 and #120</p>
<p>The diagnostic filenames are hardwired</p>
<dl class="bug"><dt><b><a class="el" href="bug.html#_bug000019">Bug:</a></b></dt><dd>Ultimately we would like to write the extra diagnositcs to a single file</dd></dl>

<p class="definition">Definition at line <a class="el" href="diag_8c_source.html#l00225">225</a> of file <a class="el" href="diag_8c_source.html">diag.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="diag_8c_ae56c24fbf634a302259671a903bcea7e_cgraph.png" border="0" usemap="#diag_8c_ae56c24fbf634a302259671a903bcea7e_cgraph" alt=""/></div>
<map name="diag_8c_ae56c24fbf634a302259671a903bcea7e_cgraph" id="diag_8c_ae56c24fbf634a302259671a903bcea7e_cgraph">
<area shape="rect" id="node2" href="log_8h.html#a9a25be4f0d7d13fccc8457774d74167f" title="Print/write an informational message. " alt="" coords="281,5,320,32"/>
<area shape="rect" id="node4" href="log_8h.html#a4f4caa375f1c3a9def422000f305cce5" title="Print/write out an error message. " alt="" coords="172,56,216,83"/>
<area shape="rect" id="node3" href="xlog_8c.html#aeb93dfd882dd6a658b86662e6e219a09" title="Open a log file. " alt="" coords="633,81,691,108"/>
<area shape="rect" id="node5" href="xlog_8c.html#aeaba9fb5d129e3ab9d5efa760206deff" title="track the number of errors of each type " alt="" coords="264,157,337,184"/>
<area shape="rect" id="node6" href="xlog_8c.html#a3d395705c83c0bda5aeee6a271fdfd47" title="Summarize the errors that have occurred. " alt="" coords="385,132,475,159"/>
<area shape="rect" id="node9" href="xlog_8c.html#a4f4caa375f1c3a9def422000f305cce5" title="Print/write out an error message. " alt="" coords="408,183,452,209"/>
<area shape="rect" id="node7" href="xlog_8c.html#a9a25be4f0d7d13fccc8457774d74167f" title="Print/write an informational message. " alt="" coords="535,107,573,133"/>
<area shape="rect" id="node8" href="log_8h.html#a488c6292e324fa9bd3793694c3d29826" title="message" alt="" coords="523,157,585,184"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="diag_8c_ae56c24fbf634a302259671a903bcea7e_icgraph.png" border="0" usemap="#diag_8c_ae56c24fbf634a302259671a903bcea7e_icgraph" alt=""/></div>
<map name="diag_8c_ae56c24fbf634a302259671a903bcea7e_icgraph" id="diag_8c_ae56c24fbf634a302259671a903bcea7e_icgraph">
<area shape="rect" id="node2" href="python_8c.html#afced8478b91af5c169926dfa4426333d" title="The main routine for Python, which supervises the ingest of data defining a model, the initializtion of the model, and actual run of the model, and writing the data to the disk. " alt="" coords="172,5,216,32"/>
</map>
</div>

</div>
</div>
<a id="ad9812264d4df596406d5878299e8b7e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9812264d4df596406d5878299e8b7e5">&#9670;&nbsp;</a></span>save_extract_photons()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int save_extract_photons </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="python_8h.html#ad2424d53ebcf811656882a87e11b440c">PhotPtr</a>&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="python_8h.html#ad2424d53ebcf811656882a87e11b440c">PhotPtr</a>&#160;</td>
          <td class="paramname"><em>pp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>v</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>saves informations about phtoons in a particulare wavelength gange </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">int</td><td>n The number of the spectrum </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">PhotPtr</td><td>p The photon before being doppler shifted </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">PhotPtr</td><td>pp The phtoon after being doppler shiftd </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">double</td><td>* v The velocity vector at the possibon of p/pp </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Always returns 0</dd></dl>
<p>This diagnostic routine was proably written to address a concern about whether the photons were being properly doppler shifted on extract</p>
<h3>Notes</h3>
<p>Called from <a class="el" href="extract_8c.html" title="Maing routines for extracting photons during the spectral generation phase. ">extract.c</a>, where currently one restricts the wavelenght range of the photons to around CIV </p>

<p class="definition">Definition at line <a class="el" href="diag_8c_source.html#l00348">348</a> of file <a class="el" href="diag_8c_source.html">diag.c</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="diag_8c_ad9812264d4df596406d5878299e8b7e5_icgraph.png" border="0" usemap="#diag_8c_ad9812264d4df596406d5878299e8b7e5_icgraph" alt=""/></div>
<map name="diag_8c_ad9812264d4df596406d5878299e8b7e5_icgraph" id="diag_8c_ad9812264d4df596406d5878299e8b7e5_icgraph">
<area shape="rect" id="node2" href="templates_8h.html#a280fcbb3dddfaf58a73b2a8d6fd61c76" title="A supervisory routine called to builds detailed spectra in the normal (extract) mode. " alt="" coords="173,31,225,57"/>
<area shape="rect" id="node3" href="trans__phot_8c.html#a620388e1c4a8e38f192c5a0ce42af389" title="int (w,p,iextract) oversees the propagation of a &quot;flight&quot; of photons " alt="" coords="423,31,492,57"/>
<area shape="rect" id="node6" href="trans__phot_8c.html#a2f7b8208c76fe2718f45f46c9dc3a813" title="Transport a single photon photon through the wind. " alt="" coords="273,56,375,83"/>
<area shape="rect" id="node4" href="templates_8h.html#a28fc174aa63a5eeef6de99ef392e1616" title="run the ionization cycles for a python model " alt="" coords="540,5,649,32"/>
<area shape="rect" id="node5" href="templates_8h.html#abc2ad803345c801984f4dc64d4d4a9e0" title="generates the detailed spectra " alt="" coords="552,56,637,83"/>
</map>
</div>

</div>
</div>
<a id="a1c8114c71c12528c31d3329d1a5a7777"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c8114c71c12528c31d3329d1a5a7777">&#9670;&nbsp;</a></span>save_photon_stats()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int save_photon_stats </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="python_8h.html#ad957272e4ddecfb558775b2aeddf2ac4">WindPtr</a>&#160;</td>
          <td class="paramname"><em>one</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="python_8h.html#ad2424d53ebcf811656882a87e11b440c">PhotPtr</a>&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>ds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>w_ave</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>prints photon statistics to a file </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">WindPtr</td><td>one WindPtr for the cell </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">PhotPtr</td><td>p Photon pointer (for one photon) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">double</td><td>ds ds travelled </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">double</td><td>w_ave The avereage weight of the pohton as it travelled </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Always returns 0</dd></dl>
<p>The routine checks whether this is one of a number of cells in which one wishes to record the photons statitics and if so writes out information about the phtoon to a file.</p>
<h3>Notes</h3>
<p>Called from radiation </p>

<p class="definition">Definition at line <a class="el" href="diag_8c_source.html#l00299">299</a> of file <a class="el" href="diag_8c_source.html">diag.c</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="diag_8c_a1c8114c71c12528c31d3329d1a5a7777_icgraph.png" border="0" usemap="#diag_8c_a1c8114c71c12528c31d3329d1a5a7777_icgraph" alt=""/></div>
<map name="diag_8c_a1c8114c71c12528c31d3329d1a5a7777_icgraph" id="diag_8c_a1c8114c71c12528c31d3329d1a5a7777_icgraph">
<area shape="rect" id="node2" href="templates_8h.html#a141c8c8db4119b46cba7dcff5de861b3" title="increment the matom bound&#45;free estimators " alt="" coords="159,5,291,32"/>
<area shape="rect" id="node5" href="templates_8h.html#adb025e0891ad334d41481551bf785170" title="updates the field parameters in the wind and reduces the weight of the photon as a result of the effe..." alt="" coords="195,56,255,83"/>
<area shape="rect" id="node3" href="templates_8h.html#a0118547dede9b08b5ac6609b4313e3e8" title="translates the photon within a single cell in the wind. " alt="" coords="339,5,439,32"/>
<area shape="rect" id="node4" href="templates_8h.html#ae77272897af1eb8f6ebd0f7cfe2932e8" title="a steering routine that either calls _in_space or _in_wind depending upon the current location of the..." alt="" coords="487,5,547,32"/>
</map>
</div>

</div>
</div>
<a id="a852eb08f6a48973ca3dfd61567803ee8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a852eb08f6a48973ca3dfd61567803ee8">&#9670;&nbsp;</a></span>save_photons()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int save_photons </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="python_8h.html#ad2424d53ebcf811656882a87e11b440c">PhotPtr</a>&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">comment&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>save_photon </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">PhotPtr</td><td>p Photon pointer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">char</td><td>comment[] A comment indicating why/at what point the photon information needed to be recorded. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Always returns 0</dd></dl>
<p>This is a diagnostic that allows one to print out information about a photon at any time.</p>
<h3>Notes</h3>
<p>It was written as part of the effort to debug imports for the fu_ori project. </p>

<p class="definition">Definition at line <a class="el" href="diag_8c_source.html#l00385">385</a> of file <a class="el" href="diag_8c_source.html">diag.c</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="diag_8c_a852eb08f6a48973ca3dfd61567803ee8_icgraph.png" border="0" usemap="#diag_8c_a852eb08f6a48973ca3dfd61567803ee8_icgraph" alt=""/></div>
<map name="diag_8c_a852eb08f6a48973ca3dfd61567803ee8_icgraph" id="diag_8c_a852eb08f6a48973ca3dfd61567803ee8_icgraph">
<area shape="rect" id="node2" href="templates_8h.html#a924a75177a13600d1838067dccd80aa0" title="calculate the distance to the far boundary of the cell in which the photon bundle when dealing with a..." alt="" coords="139,52,237,79"/>
<area shape="rect" id="node3" href="templates_8h.html#afee395233fbca5e632fd3ef51106f74c" title="calculates the distance photon can travel within the cell that it is currently in. " alt="" coords="288,52,355,79"/>
<area shape="rect" id="node4" href="templates_8h.html#aa1ffd17034054d51819328d892fc57e8" title="translates the photon from its current position to the edge of the wind. " alt="" coords="406,103,511,130"/>
<area shape="rect" id="node5" href="templates_8h.html#ae77272897af1eb8f6ebd0f7cfe2932e8" title="a steering routine that either calls _in_space or _in_wind depending upon the current location of the..." alt="" coords="561,103,621,130"/>
<area shape="rect" id="node6" href="templates_8h.html#a0118547dede9b08b5ac6609b4313e3e8" title="translates the photon within a single cell in the wind. " alt="" coords="409,52,509,79"/>
<area shape="rect" id="node7" href="trans__phot_8c.html#a2f7b8208c76fe2718f45f46c9dc3a813" title="Transport a single photon photon through the wind. " alt="" coords="137,204,239,231"/>
<area shape="rect" id="node8" href="trans__phot_8c.html#a620388e1c4a8e38f192c5a0ce42af389" title="int (w,p,iextract) oversees the propagation of a &quot;flight&quot; of photons " alt="" coords="287,204,356,231"/>
<area shape="rect" id="node9" href="templates_8h.html#a28fc174aa63a5eeef6de99ef392e1616" title="run the ionization cycles for a python model " alt="" coords="404,255,513,282"/>
<area shape="rect" id="node10" href="templates_8h.html#abc2ad803345c801984f4dc64d4d4a9e0" title="generates the detailed spectra " alt="" coords="416,204,501,231"/>
</map>
</div>

</div>
</div>
<a id="a36a9f5603f59602831695269c056cbe4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a36a9f5603f59602831695269c056cbe4">&#9670;&nbsp;</a></span>track_scatters()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int track_scatters </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="python_8h.html#ad2424d53ebcf811656882a87e11b440c">PhotPtr</a>&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nplasma</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>comment</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">PhotPtr</td><td>p Photon pointer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">int</td><td>nplasma the cell in which the photon resides </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">char</td><td>* comment An arbitrary comment </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Always returns 0</dd></dl>
<p>Another way to track photons. This one is focussed on what happens scattering events.</p>
<h3>Notes</h3>

<p class="definition">Definition at line <a class="el" href="diag_8c_source.html#l00420">420</a> of file <a class="el" href="diag_8c_source.html">diag.c</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="diag_8c_a36a9f5603f59602831695269c056cbe4_icgraph.png" border="0" usemap="#diag_8c_a36a9f5603f59602831695269c056cbe4_icgraph" alt=""/></div>
<map name="diag_8c_a36a9f5603f59602831695269c056cbe4_icgraph" id="diag_8c_a36a9f5603f59602831695269c056cbe4_icgraph">
<area shape="rect" id="node2" href="trans__phot_8c.html#a2f7b8208c76fe2718f45f46c9dc3a813" title="Transport a single photon photon through the wind. " alt="" coords="137,31,239,57"/>
<area shape="rect" id="node3" href="trans__phot_8c.html#a620388e1c4a8e38f192c5a0ce42af389" title="int (w,p,iextract) oversees the propagation of a &quot;flight&quot; of photons " alt="" coords="287,31,356,57"/>
<area shape="rect" id="node4" href="templates_8h.html#a28fc174aa63a5eeef6de99ef392e1616" title="run the ionization cycles for a python model " alt="" coords="404,5,513,32"/>
<area shape="rect" id="node5" href="templates_8h.html#abc2ad803345c801984f4dc64d4d4a9e0" title="generates the detailed spectra " alt="" coords="416,56,501,83"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a11a7b3a6415f5b7dab044fdecb221290"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a11a7b3a6415f5b7dab044fdecb221290">&#9670;&nbsp;</a></span>eplinit</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int eplinit = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="diag_8c_source.html#l00191">191</a> of file <a class="el" href="diag_8c_source.html">diag.c</a>.</p>

</div>
</div>
<a id="a1c920244fb7c509b78eacdd7cc843754"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c920244fb7c509b78eacdd7cc843754">&#9670;&nbsp;</a></span>epltptr</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FILE* epltptr</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Extra diagnostics file. </p>

<p class="definition">Definition at line <a class="el" href="diag_8c_source.html#l00197">197</a> of file <a class="el" href="diag_8c_source.html">diag.c</a>.</p>

</div>
</div>
<a id="a9654f2212b3e8e58fb6e61ae9751deff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9654f2212b3e8e58fb6e61ae9751deff">&#9670;&nbsp;</a></span>pstatinit</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pstatinit = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>To say if we have checked to see if we need to log photons. </p>

<p class="definition">Definition at line <a class="el" href="diag_8c_source.html#l00194">194</a> of file <a class="el" href="diag_8c_source.html">diag.c</a>.</p>

</div>
</div>
<a id="a3ddae9aa9fbb2071a1acbb0b9dcbf255"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ddae9aa9fbb2071a1acbb0b9dcbf255">&#9670;&nbsp;</a></span>save_photon_number</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int save_photon_number = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="diag_8c_source.html#l00362">362</a> of file <a class="el" href="diag_8c_source.html">diag.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_b2f33c71d4aa5e7af42a1ca61ff5af1b.html">source</a></li><li class="navelem"><a class="el" href="diag_8c.html">diag.c</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
