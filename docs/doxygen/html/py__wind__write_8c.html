<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Python MCRT: /Users/mhewitt/python/source/py_wind_write.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Python MCRT
   </div>
   <div id="projectbrief">A Monte Carlo radiative transfer and ionization code</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('py__wind__write_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">py_wind_write.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>These are subroutines used by py_wind to write ascii files of various variables for use with smongo or normal display software.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;math.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;strings.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &quot;<a class="el" href="atomic_8h_source.html">atomic.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="python_8h_source.html">python.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="templates_8h_source.html">templates.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for py_wind_write.c:</div>
<div class="dyncontent">
<div class="center"><img src="py__wind__write_8c__incl.png" border="0" usemap="#_2_users_2mhewitt_2python_2source_2py__wind__write_8c" alt=""/></div>
<map name="_2_users_2mhewitt_2python_2source_2py__wind__write_8c" id="_2_users_2mhewitt_2python_2source_2py__wind__write_8c">
<area shape="rect" id="node7" href="atomic_8h.html" title="atomic.h" alt="" coords="399,95,459,121"/>
<area shape="rect" id="node8" href="python_8h.html" title="python.h" alt="" coords="483,95,543,121"/>
<area shape="rect" id="node11" href="templates_8h.html" title="templates.h" alt="" coords="568,169,641,196"/>
<area shape="rect" id="node9" href="log_8h.html" title="log.h" alt="" coords="327,169,371,196"/>
<area shape="rect" id="node10" href="version_8h.html" title="version.h" alt="" coords="395,169,457,196"/>
<area shape="rect" id="node12" href="recipes_8h.html" title="recipes.h" alt="" coords="481,169,544,196"/>
</map>
</div>
</div>
<p><a href="py__wind__write_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a0af9e69964e9c03d09e4ab9cd60ec91c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="py__wind__write_8c.html#a0af9e69964e9c03d09e4ab9cd60ec91c">ODIM</a>&#160;&#160;&#160;256</td></tr>
<tr class="separator:a0af9e69964e9c03d09e4ab9cd60ec91c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a7c9aa3c558eb4b666dac6d80aa7a80c5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="py__wind__write_8c.html#a7c9aa3c558eb4b666dac6d80aa7a80c5">write_array</a> (filename, int choice)</td></tr>
<tr class="memdesc:a7c9aa3c558eb4b666dac6d80aa7a80c5"><td class="mdescLeft">&#160;</td><td class="mdescRight">writes out the arrays in a way which can be read easily into a routine which can do contouring  <a href="#a7c9aa3c558eb4b666dac6d80aa7a80c5">More...</a><br /></td></tr>
<tr class="separator:a7c9aa3c558eb4b666dac6d80aa7a80c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e724b676abeb2c0a06b5b7c416ce47d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="py__wind__write_8c.html#a2e724b676abeb2c0a06b5b7c416ce47d">display</a> (name)</td></tr>
<tr class="memdesc:a2e724b676abeb2c0a06b5b7c416ce47d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print results to the screen.  <a href="#a2e724b676abeb2c0a06b5b7c416ce47d">More...</a><br /></td></tr>
<tr class="separator:a2e724b676abeb2c0a06b5b7c416ce47d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a996f12b3774cc7d357882e508ebe318d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="py__wind__write_8c.html#a996f12b3774cc7d357882e508ebe318d">init_write_array</a> = 1</td></tr>
<tr class="separator:a996f12b3774cc7d357882e508ebe318d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a726b7ab734b1197afcfcabd23cd01b"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="py__wind__write_8c.html#a7a726b7ab734b1197afcfcabd23cd01b">aout</a> [<a class="el" href="py__wind__write_8c.html#a0af9e69964e9c03d09e4ab9cd60ec91c">ODIM</a>][<a class="el" href="py__wind__write_8c.html#a0af9e69964e9c03d09e4ab9cd60ec91c">ODIM</a>]</td></tr>
<tr class="separator:a7a726b7ab734b1197afcfcabd23cd01b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>These are subroutines used by py_wind to write ascii files of various variables for use with smongo or normal display software. </p>
<dl class="section author"><dt>Author</dt><dd>ksl </dd></dl>
<dl class="section date"><dt>Date</dt><dd>May, 2018 </dd></dl>

<p class="definition">Definition in file <a class="el" href="py__wind__write_8c_source.html">py_wind_write.c</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a0af9e69964e9c03d09e4ab9cd60ec91c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0af9e69964e9c03d09e4ab9cd60ec91c">&#9670;&nbsp;</a></span>ODIM</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ODIM&#160;&#160;&#160;256</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="py__wind__write_8c_source.html#l00062">62</a> of file <a class="el" href="py__wind__write_8c_source.html">py_wind_write.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a2e724b676abeb2c0a06b5b7c416ce47d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e724b676abeb2c0a06b5b7c416ce47d">&#9670;&nbsp;</a></span>display()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int display </td>
          <td>(</td>
          <td class="paramtype">name&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Print results to the screen. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">char</td><td>name[] The name associated with the array to be printed </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Always returns 0</dd></dl>
<p>This is a generalized display routine, intended to allow various simplifications of py_wind</p>
<h3>Notes</h3>
<p>For cylindrical coordinates, one goes up in z, and over in x. To cylindrical coordinates we want to display so that each colum represents a constant line on the axis w[mdim][ndim]. So for a system with mdim=20 and ndim=25. There are 25 elements in the z axis and 20 elements in the xaxis</p>
<p>Therefore a row, constant z, is displayed by by incrementing by 20 or mdim</p>
<p>For rtheta coordinates, one goes around in theta, up in r. The fasted moving coordinate is r (when thinking of 1-d versions of the array. Unless we are going to write a separate routine, the simplest thing to do is to make each column represent a constant r</p>
<p>w[mdim][ndim] So, in spherical polar coorcinates, a system with mdim 20 has 20 angles, and 25 radii.</p>
<p>So for spherical polar, constant r is displayed by incrementing by 1. As a result it is unclear that one can easily use the same routine for the two situations since you seem to be incrementing the opposite axes, since in the one case one wants MDIM rows and other case one wants NDIM rows.</p>
<p>It would be possible if you plot theta lines in each row, but what this means is that the first row is closest to the z axis </p>

<p class="definition">Definition at line <a class="el" href="py__wind__write_8c_source.html#l00340">340</a> of file <a class="el" href="py__wind__write_8c_source.html">py_wind_write.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="py__wind__write_8c_a2e724b676abeb2c0a06b5b7c416ce47d_cgraph.png" border="0" usemap="#py__wind__write_8c_a2e724b676abeb2c0a06b5b7c416ce47d_cgraph" alt=""/></div>
<map name="py__wind__write_8c_a2e724b676abeb2c0a06b5b7c416ce47d_cgraph" id="py__wind__write_8c_a2e724b676abeb2c0a06b5b7c416ce47d_cgraph">
<area shape="rect" id="node2" href="log_8h.html#a9a25be4f0d7d13fccc8457774d74167f" title="Print/write an informational message. " alt="" coords="107,5,145,32"/>
<area shape="rect" id="node3" href="xlog_8c.html#aeb93dfd882dd6a658b86662e6e219a09" title="Open a log file. " alt="" coords="193,5,251,32"/>
</map>
</div>

</div>
</div>
<a id="a7c9aa3c558eb4b666dac6d80aa7a80c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c9aa3c558eb4b666dac6d80aa7a80c5">&#9670;&nbsp;</a></span>write_array()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int write_array </td>
          <td>(</td>
          <td class="paramtype">filename&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>choice</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>writes out the arrays in a way which can be read easily into a routine which can do contouring </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">char</td><td>filename[] The name of the output file </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">int</td><td>choice 0-&gt; don't write array, 1 -&gt; write without intepolation, 2-&gt; write with interpolation </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Always returns 0</dd></dl>
<p>This is a general purpose routine used by py_wind to write ascii data files. If a file is written, it can be written at the positions of of the windsave grid, or interpolated onto a linear coordinate grid. The latter was intended to make it easier to make an "image" of the output file.</p>
<h3>Notes</h3>
<p>The output files are written in a format that should be readable with the astropy ascii tables routines. </p>

<p class="definition">Definition at line <a class="el" href="py__wind__write_8c_source.html#l00090">90</a> of file <a class="el" href="py__wind__write_8c_source.html">py_wind_write.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="py__wind__write_8c_a7c9aa3c558eb4b666dac6d80aa7a80c5_cgraph.png" border="0" usemap="#py__wind__write_8c_a7c9aa3c558eb4b666dac6d80aa7a80c5_cgraph" alt=""/></div>
<map name="py__wind__write_8c_a7c9aa3c558eb4b666dac6d80aa7a80c5_cgraph" id="py__wind__write_8c_a7c9aa3c558eb4b666dac6d80aa7a80c5_cgraph">
<area shape="rect" id="node2" href="foo_8h.html#a779ccebed86e21a9d217673baf5da757" title="length" alt="" coords="145,5,195,32"/>
<area shape="rect" id="node3" href="log_8h.html#a4f4caa375f1c3a9def422000f305cce5" title="Print/write out an error message. " alt="" coords="148,56,192,83"/>
<area shape="rect" id="node10" href="foo_8h.html#aed64e9379499a741e8a7c42376e20530" title="Translate a cell number in the wind to the two&#45;d grid position in a specific domain. " alt="" coords="131,107,209,133"/>
<area shape="rect" id="node11" href="foo_8h.html#a2c852998cd074100b68f8750a8d8ca99" title="where_in_wind" alt="" coords="125,157,215,184"/>
<area shape="rect" id="node12" href="foo_8h.html#a3d923b8d7eb460585ecf6885222a69a3" title="coord_fraction" alt="" coords="127,208,213,235"/>
<area shape="rect" id="node4" href="xlog_8c.html#aeb93dfd882dd6a658b86662e6e219a09" title="Open a log file. " alt="" coords="632,69,689,96"/>
<area shape="rect" id="node5" href="xlog_8c.html#aeaba9fb5d129e3ab9d5efa760206deff" title="track the number of errors of each type " alt="" coords="263,95,336,121"/>
<area shape="rect" id="node6" href="xlog_8c.html#a3d395705c83c0bda5aeee6a271fdfd47" title="Summarize the errors that have occurred. " alt="" coords="384,81,473,108"/>
<area shape="rect" id="node9" href="xlog_8c.html#a4f4caa375f1c3a9def422000f305cce5" title="Print/write out an error message. " alt="" coords="407,132,451,159"/>
<area shape="rect" id="node7" href="xlog_8c.html#a9a25be4f0d7d13fccc8457774d74167f" title="Print/write an informational message. " alt="" coords="533,69,572,96"/>
<area shape="rect" id="node8" href="log_8h.html#a488c6292e324fa9bd3793694c3d29826" title="message" alt="" coords="521,120,584,147"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a7a726b7ab734b1197afcfcabd23cd01b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a726b7ab734b1197afcfcabd23cd01b">&#9670;&nbsp;</a></span>aout</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float aout[<a class="el" href="py__wind__write_8c.html#a0af9e69964e9c03d09e4ab9cd60ec91c">ODIM</a>][<a class="el" href="py__wind__write_8c.html#a0af9e69964e9c03d09e4ab9cd60ec91c">ODIM</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="py__wind__write_8c_source.html#l00064">64</a> of file <a class="el" href="py__wind__write_8c_source.html">py_wind_write.c</a>.</p>

</div>
</div>
<a id="a996f12b3774cc7d357882e508ebe318d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a996f12b3774cc7d357882e508ebe318d">&#9670;&nbsp;</a></span>init_write_array</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int init_write_array = 1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="py__wind__write_8c_source.html#l00063">63</a> of file <a class="el" href="py__wind__write_8c_source.html">py_wind_write.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_b2f33c71d4aa5e7af42a1ca61ff5af1b.html">source</a></li><li class="navelem"><a class="el" href="py__wind__write_8c.html">py_wind_write.c</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
