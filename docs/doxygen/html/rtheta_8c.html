<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Python MCRT: /Users/mhewitt/python/source/rtheta.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Python MCRT
   </div>
   <div id="projectbrief">A Monte Carlo radiative transfer and ionization code</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('rtheta_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">rtheta.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Generic routines for use with an azimuthally-symmetric rtheta coordinate system.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;math.h&gt;</code><br />
<code>#include &quot;<a class="el" href="atomic_8h_source.html">atomic.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="python_8h_source.html">python.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for rtheta.c:</div>
<div class="dyncontent">
<div class="center"><img src="rtheta_8c__incl.png" border="0" usemap="#_2_users_2mhewitt_2python_2source_2rtheta_8c" alt=""/></div>
<map name="_2_users_2mhewitt_2python_2source_2rtheta_8c" id="_2_users_2mhewitt_2python_2source_2rtheta_8c">
<area shape="rect" id="node5" href="atomic_8h.html" title="atomic.h" alt="" coords="236,95,296,121"/>
<area shape="rect" id="node6" href="python_8h.html" title="python.h" alt="" coords="320,95,380,121"/>
<area shape="rect" id="node7" href="log_8h.html" title="log.h" alt="" coords="204,169,248,196"/>
<area shape="rect" id="node8" href="version_8h.html" title="version.h" alt="" coords="272,169,335,196"/>
<area shape="rect" id="node9" href="templates_8h.html" title="templates.h" alt="" coords="359,169,432,196"/>
<area shape="rect" id="node10" href="recipes_8h.html" title="recipes.h" alt="" coords="456,169,519,196"/>
</map>
</div>
</div>
<p><a href="rtheta_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a95d55ebfa2f2f1bd14867ad6a6cc9bfb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtheta_8c.html#a95d55ebfa2f2f1bd14867ad6a6cc9bfb">RESOLUTION</a>&#160;&#160;&#160;1000</td></tr>
<tr class="separator:a95d55ebfa2f2f1bd14867ad6a6cc9bfb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a68cff92e2a36ec9073dbecabffa5543b"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtheta_8c.html#a68cff92e2a36ec9073dbecabffa5543b">rtheta_ds_in_cell</a> (int ndom, <a class="el" href="python_8h.html#ad2424d53ebcf811656882a87e11b440c">PhotPtr</a> p)</td></tr>
<tr class="memdesc:a68cff92e2a36ec9073dbecabffa5543b"><td class="mdescLeft">&#160;</td><td class="mdescRight">calculates the distance to the far boundary of the cell in which the photon bundle resides.  <a href="#a68cff92e2a36ec9073dbecabffa5543b">More...</a><br /></td></tr>
<tr class="separator:a68cff92e2a36ec9073dbecabffa5543b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4cb6c91545a34b48e5d6cd74a68665de"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtheta_8c.html#a4cb6c91545a34b48e5d6cd74a68665de">rtheta_make_grid</a> (<a class="el" href="python_8h.html#ad957272e4ddecfb558775b2aeddf2ac4">WindPtr</a> w, int ndom)</td></tr>
<tr class="memdesc:a4cb6c91545a34b48e5d6cd74a68665de"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set up an rtheta grid.  <a href="#a4cb6c91545a34b48e5d6cd74a68665de">More...</a><br /></td></tr>
<tr class="separator:a4cb6c91545a34b48e5d6cd74a68665de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29a481b4e0cfe03c2e99795dc24e10d1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtheta_8c.html#a29a481b4e0cfe03c2e99795dc24e10d1">rtheta_make_cones</a> (int ndom, <a class="el" href="python_8h.html#ad957272e4ddecfb558775b2aeddf2ac4">WindPtr</a> w)</td></tr>
<tr class="memdesc:a29a481b4e0cfe03c2e99795dc24e10d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">defines the wind cones that are needed to calculate ds in a cell  <a href="#a29a481b4e0cfe03c2e99795dc24e10d1">More...</a><br /></td></tr>
<tr class="separator:a29a481b4e0cfe03c2e99795dc24e10d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd293c7e79b81faca3f4a2d115eaea6a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtheta_8c.html#afd293c7e79b81faca3f4a2d115eaea6a">rtheta_wind_complete</a> (int ndom, <a class="el" href="python_8h.html#ad957272e4ddecfb558775b2aeddf2ac4">WindPtr</a> w)</td></tr>
<tr class="memdesc:afd293c7e79b81faca3f4a2d115eaea6a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Complete the creation of an rtheta wind comain by populating certain arrays used for interpolation.  <a href="#afd293c7e79b81faca3f4a2d115eaea6a">More...</a><br /></td></tr>
<tr class="separator:afd293c7e79b81faca3f4a2d115eaea6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16377719f4171d75f5aa983c79476590"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtheta_8c.html#a16377719f4171d75f5aa983c79476590">rtheta_volumes</a> (int ndom, <a class="el" href="python_8h.html#ad957272e4ddecfb558775b2aeddf2ac4">WindPtr</a> w)</td></tr>
<tr class="memdesc:a16377719f4171d75f5aa983c79476590"><td class="mdescLeft">&#160;</td><td class="mdescRight">rtheta_volume(w) calculates the wind volume of a cell in rtheta coordinate sysem allowing for the fact that some cells may not be in the active wind region  <a href="#a16377719f4171d75f5aa983c79476590">More...</a><br /></td></tr>
<tr class="separator:a16377719f4171d75f5aa983c79476590"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4526cc1605a2fd32d6d0106ac1a1e25d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtheta_8c.html#a4526cc1605a2fd32d6d0106ac1a1e25d">rtheta_where_in_grid</a> (int ndom, <a class="el" href="import__cylindrical_8c.html#a099bc7b5a9501685180c163c1ffb67d0">x</a>)</td></tr>
<tr class="memdesc:a4526cc1605a2fd32d6d0106ac1a1e25d"><td class="mdescLeft">&#160;</td><td class="mdescRight">locates the grid position of the vector, when one is using rtheta coordinates.  <a href="#a4526cc1605a2fd32d6d0106ac1a1e25d">More...</a><br /></td></tr>
<tr class="separator:a4526cc1605a2fd32d6d0106ac1a1e25d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac89ea2d29fd2c00fd675f641d98b8b59"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtheta_8c.html#ac89ea2d29fd2c00fd675f641d98b8b59">rtheta_get_random_location</a> (int n, <a class="el" href="import__cylindrical_8c.html#a099bc7b5a9501685180c163c1ffb67d0">x</a>)</td></tr>
<tr class="separator:ac89ea2d29fd2c00fd675f641d98b8b59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad06961b0435b7c8b175189291537c20c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtheta_8c.html#ad06961b0435b7c8b175189291537c20c">rtheta_extend_density</a> (int ndom, <a class="el" href="python_8h.html#ad957272e4ddecfb558775b2aeddf2ac4">WindPtr</a> w)</td></tr>
<tr class="memdesc:ad06961b0435b7c8b175189291537c20c"><td class="mdescLeft">&#160;</td><td class="mdescRight">extends the density to regions just outside the wind regiions so that extrapolations of density can be made there  <a href="#ad06961b0435b7c8b175189291537c20c">More...</a><br /></td></tr>
<tr class="separator:ad06961b0435b7c8b175189291537c20c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a70fbae6e163ad01aec40a2354ed674"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtheta_8c.html#a6a70fbae6e163ad01aec40a2354ed674">rtheta_is_cell_in_wind</a> (int n)</td></tr>
<tr class="memdesc:a6a70fbae6e163ad01aec40a2354ed674"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check whether a cell in an rtheta coordiante system is in the wind.  <a href="#a6a70fbae6e163ad01aec40a2354ed674">More...</a><br /></td></tr>
<tr class="separator:a6a70fbae6e163ad01aec40a2354ed674"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Generic routines for use with an azimuthally-symmetric rtheta coordinate system. </p>
<dl class="section author"><dt>Author</dt><dd>ksl </dd></dl>
<dl class="section date"><dt>Date</dt><dd>March, 2018 </dd></dl>

<p class="definition">Definition in file <a class="el" href="rtheta_8c_source.html">rtheta.c</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a95d55ebfa2f2f1bd14867ad6a6cc9bfb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95d55ebfa2f2f1bd14867ad6a6cc9bfb">&#9670;&nbsp;</a></span>RESOLUTION</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RESOLUTION&#160;&#160;&#160;1000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="rtheta_8c_source.html#l00398">398</a> of file <a class="el" href="rtheta_8c_source.html">rtheta.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a68cff92e2a36ec9073dbecabffa5543b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a68cff92e2a36ec9073dbecabffa5543b">&#9670;&nbsp;</a></span>rtheta_ds_in_cell()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double rtheta_ds_in_cell </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ndom</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="python_8h.html#ad2424d53ebcf811656882a87e11b440c">PhotPtr</a>&#160;</td>
          <td class="paramname"><em>p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>calculates the distance to the far boundary of the cell in which the photon bundle resides. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">int</td><td>ndom The domain in which the photon bundle is though to exist </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">PhotPtr</td><td>p Photon pointer </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Distance to the far boundary of the cell in which the photon currently resides. Negative numbers (and zero) should be regarded as errors.</dd></dl>
<p>??? DESCRIPTION ???</p>
<h3>Notes</h3>
<p>??? NOTES ??? </p>

<p class="definition">Definition at line <a class="el" href="rtheta_8c_source.html#l00043">43</a> of file <a class="el" href="rtheta_8c_source.html">rtheta.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="rtheta_8c_a68cff92e2a36ec9073dbecabffa5543b_cgraph.png" border="0" usemap="#rtheta_8c_a68cff92e2a36ec9073dbecabffa5543b_cgraph" alt=""/></div>
<map name="rtheta_8c_a68cff92e2a36ec9073dbecabffa5543b_cgraph" id="rtheta_8c_a68cff92e2a36ec9073dbecabffa5543b_cgraph">
<area shape="rect" id="node2" href="foo_8h.html#a1db4ad38f132371d7fe31fdd998ae53e" title="where_in_grid" alt="" coords="151,5,236,32"/>
<area shape="rect" id="node3" href="log_8h.html#a4f4caa375f1c3a9def422000f305cce5" title="Print/write out an error message. " alt="" coords="171,56,215,83"/>
<area shape="rect" id="node10" href="foo_8h.html#aed64e9379499a741e8a7c42376e20530" title="Translate a cell number in the wind to the two&#45;d grid position in a specific domain. " alt="" coords="155,107,232,133"/>
<area shape="rect" id="node11" href="foo_8h.html#a67e3cb7a7d0cd3d55277fc4f3373fe2e" title="Calculate the pathlenth along a line of sight defined by a photon p to a sphere centered on the origi..." alt="" coords="152,157,235,184"/>
<area shape="rect" id="node12" href="foo_8h.html#a4a0398c1230c6d21c5c51f4750ca2ea1" title="(cc, p) This is a new version of introduced in order to allow cylvar coordinates Eventually it is int..." alt="" coords="157,208,230,235"/>
<area shape="rect" id="node4" href="xlog_8c.html#aeb93dfd882dd6a658b86662e6e219a09" title="Open a log file. " alt="" coords="653,69,711,96"/>
<area shape="rect" id="node5" href="xlog_8c.html#aeaba9fb5d129e3ab9d5efa760206deff" title="track the number of errors of each type " alt="" coords="284,95,357,121"/>
<area shape="rect" id="node6" href="xlog_8c.html#a3d395705c83c0bda5aeee6a271fdfd47" title="Summarize the errors that have occurred. " alt="" coords="405,81,495,108"/>
<area shape="rect" id="node9" href="xlog_8c.html#a4f4caa375f1c3a9def422000f305cce5" title="Print/write out an error message. " alt="" coords="428,132,472,159"/>
<area shape="rect" id="node7" href="xlog_8c.html#a9a25be4f0d7d13fccc8457774d74167f" title="Print/write an informational message. " alt="" coords="555,69,593,96"/>
<area shape="rect" id="node8" href="log_8h.html#a488c6292e324fa9bd3793694c3d29826" title="message" alt="" coords="543,120,605,147"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="rtheta_8c_a68cff92e2a36ec9073dbecabffa5543b_icgraph.png" border="0" usemap="#rtheta_8c_a68cff92e2a36ec9073dbecabffa5543b_icgraph" alt=""/></div>
<map name="rtheta_8c_a68cff92e2a36ec9073dbecabffa5543b_icgraph" id="rtheta_8c_a68cff92e2a36ec9073dbecabffa5543b_icgraph">
<area shape="rect" id="node2" href="templates_8h.html#afee395233fbca5e632fd3ef51106f74c" title="calculates the distance photon can travel within the cell that it is currently in. " alt="" coords="151,31,217,57"/>
<area shape="rect" id="node3" href="templates_8h.html#aa1ffd17034054d51819328d892fc57e8" title="translates the photon from its current position to the edge of the wind. " alt="" coords="265,5,371,32"/>
<area shape="rect" id="node5" href="templates_8h.html#a0118547dede9b08b5ac6609b4313e3e8" title="translates the photon within a single cell in the wind. " alt="" coords="268,56,368,83"/>
<area shape="rect" id="node4" href="templates_8h.html#ae77272897af1eb8f6ebd0f7cfe2932e8" title="a steering routine that either calls _in_space or _in_wind depending upon the current location of the..." alt="" coords="419,31,479,57"/>
</map>
</div>

</div>
</div>
<a id="ad06961b0435b7c8b175189291537c20c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad06961b0435b7c8b175189291537c20c">&#9670;&nbsp;</a></span>rtheta_extend_density()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rtheta_extend_density </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ndom</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="python_8h.html#ad957272e4ddecfb558775b2aeddf2ac4">WindPtr</a>&#160;</td>
          <td class="paramname"><em>w</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>extends the density to regions just outside the wind regiions so that extrapolations of density can be made there </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">int</td><td>ndom ??? </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">WindPtr</td><td>w ??? </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>??? RETURNS ???</dd></dl>
<p>??? DESCRIPTION ???</p>
<h3>Notes</h3>
<p>Now we need to updated the densities immediately outside the wind so that the density interpolation in resonate will work. In this case all we have done is to copy the densities from the cell which is just in the wind (as one goes outward) to the cell that is just inside (or outside) the wind.</p>
<p>SS asked whether we should also be extending the wind for other parameters, especially ne. At present we do not interpolate on ne so this is not necessary. If we did do that it would be required.</p>
<p>In cylindrical coordinates, the fast dimension is z; grid positions increase up in z, and then out in r. In spperical polar coordinates, the fast dimension is theta; the grid increases in theta (measured) from the z axis), and then in r. In spherical coordinates, the grid increases as one might expect in r..</p><ul>
<li>06may ksl 57+ &ndash; Trying simply to use mappings to extend the grid in density space. The danger is that we will do other things, e.g update some of the wrong parameters. </li>
</ul>

<p class="definition">Definition at line <a class="el" href="rtheta_8c_source.html#l00842">842</a> of file <a class="el" href="rtheta_8c_source.html">rtheta.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="rtheta_8c_ad06961b0435b7c8b175189291537c20c_cgraph.png" border="0" usemap="#rtheta_8c_ad06961b0435b7c8b175189291537c20c_cgraph" alt=""/></div>
<map name="rtheta_8c_ad06961b0435b7c8b175189291537c20c_cgraph" id="rtheta_8c_ad06961b0435b7c8b175189291537c20c_cgraph">
<area shape="rect" id="node2" href="foo_8h.html#a172ddeb06a81951700723a0b02d90557" title="Translate from the 2d element for an individual domain to the wind element number. " alt="" coords="173,5,251,32"/>
</map>
</div>

</div>
</div>
<a id="ac89ea2d29fd2c00fd675f641d98b8b59"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac89ea2d29fd2c00fd675f641d98b8b59">&#9670;&nbsp;</a></span>rtheta_get_random_location()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rtheta_get_random_location </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="import__cylindrical_8c.html#a099bc7b5a9501685180c163c1ffb67d0">x</a>&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">int</td><td>n &ndash; Cell in which random poition is to be generated </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">double</td><td>x[] ??? </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>double x &ndash; the position</dd></dl>
<p>??? DESCRIPTION ???</p>
<h3>Notes</h3>
<p>??? NOTES ??? </p>

<p class="definition">Definition at line <a class="el" href="rtheta_8c_source.html#l00713">713</a> of file <a class="el" href="rtheta_8c_source.html">rtheta.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="rtheta_8c_ac89ea2d29fd2c00fd675f641d98b8b59_cgraph.png" border="0" usemap="#rtheta_8c_ac89ea2d29fd2c00fd675f641d98b8b59_cgraph" alt=""/></div>
<map name="rtheta_8c_ac89ea2d29fd2c00fd675f641d98b8b59_cgraph" id="rtheta_8c_ac89ea2d29fd2c00fd675f641d98b8b59_cgraph">
<area shape="rect" id="node2" href="foo_8h.html#a4a0210aea098f52ca60dfbc90de4ecee" title="Calculate the Roche potential at position indicated by the photon p_roche and the length s..." alt="" coords="229,5,267,32"/>
<area shape="rect" id="node3" href="foo_8h.html#aed64e9379499a741e8a7c42376e20530" title="Translate a cell number in the wind to the two&#45;d grid position in a specific domain. " alt="" coords="209,56,287,83"/>
<area shape="rect" id="node4" href="foo_8h.html#a451b4740f3d1e12cb07885b0d3e5ef1b" title="Gets a random number from the generator set up in init_rand. " alt="" coords="200,107,296,133"/>
<area shape="rect" id="node5" href="foo_8h.html#a2c852998cd074100b68f8750a8d8ca99" title="where_in_wind" alt="" coords="203,157,293,184"/>
</map>
</div>

</div>
</div>
<a id="a6a70fbae6e163ad01aec40a2354ed674"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a70fbae6e163ad01aec40a2354ed674">&#9670;&nbsp;</a></span>rtheta_is_cell_in_wind()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rtheta_is_cell_in_wind </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>n</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check whether a cell in an rtheta coordiante system is in the wind. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">int</td><td>n The a cell number </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An integer indicate whether the cell is in the wind, pratially in the wind, or not in the wind at all.</dd></dl>
<p>This routine performes is a robust check of whether a cell is in the wind or not.</p>
<h3>Notes</h3>
<p>The routine was created to speed up the evaluation of the volumes for the wind. It checks each of the four boundaries of the wind to see whether any portions of these are in the wind</p>
<p>Comment: The routine is only called by rtheta_volumes, and so we already know that this cell is part of an rtheta coordiante system. </p>

<p class="definition">Definition at line <a class="el" href="rtheta_8c_source.html#l00916">916</a> of file <a class="el" href="rtheta_8c_source.html">rtheta.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="rtheta_8c_a6a70fbae6e163ad01aec40a2354ed674_cgraph.png" border="0" usemap="#rtheta_8c_a6a70fbae6e163ad01aec40a2354ed674_cgraph" alt=""/></div>
<map name="rtheta_8c_a6a70fbae6e163ad01aec40a2354ed674_cgraph" id="rtheta_8c_a6a70fbae6e163ad01aec40a2354ed674_cgraph">
<area shape="rect" id="node2" href="foo_8h.html#aed64e9379499a741e8a7c42376e20530" title="Translate a cell number in the wind to the two&#45;d grid position in a specific domain. " alt="" coords="195,5,273,32"/>
<area shape="rect" id="node3" href="foo_8h.html#a80e38cc8054ee669104c30986700d508" title="The routine basically just calls where_in_wind for each of the 4 corners of the cell. " alt="" coords="173,56,295,83"/>
<area shape="rect" id="node4" href="foo_8h.html#a2c852998cd074100b68f8750a8d8ca99" title="where_in_wind" alt="" coords="189,107,279,133"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="rtheta_8c_a6a70fbae6e163ad01aec40a2354ed674_icgraph.png" border="0" usemap="#rtheta_8c_a6a70fbae6e163ad01aec40a2354ed674_icgraph" alt=""/></div>
<map name="rtheta_8c_a6a70fbae6e163ad01aec40a2354ed674_icgraph" id="rtheta_8c_a6a70fbae6e163ad01aec40a2354ed674_icgraph">
<area shape="rect" id="node2" href="templates_8h.html#a16377719f4171d75f5aa983c79476590" title="rtheta_volume(w) calculates the wind volume of a cell in rtheta coordinate sysem allowing for the fac..." alt="" coords="173,5,264,32"/>
</map>
</div>

</div>
</div>
<a id="a29a481b4e0cfe03c2e99795dc24e10d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29a481b4e0cfe03c2e99795dc24e10d1">&#9670;&nbsp;</a></span>rtheta_make_cones()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rtheta_make_cones </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ndom</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="python_8h.html#ad957272e4ddecfb558775b2aeddf2ac4">WindPtr</a>&#160;</td>
          <td class="paramname"><em>w</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>defines the wind cones that are needed to calculate ds in a cell </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">int</td><td>ndom The domain to populate with the cone structures </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">WindPtr</td><td>w The structure which defines the wind in Python </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Always returns 0</dd></dl>
<p>This subroutine defines cones that define the edges (in the theta directio) of wind cells.</p>
<h3>Notes</h3>
<p>Comment: It is not entirely clear why we don't use fixed arrays for the cones in the domains. The data volume is small, and this would simplify windsave and windread. </p>

<p class="definition">Definition at line <a class="el" href="rtheta_8c_source.html#l00252">252</a> of file <a class="el" href="rtheta_8c_source.html">rtheta.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="rtheta_8c_a29a481b4e0cfe03c2e99795dc24e10d1_cgraph.png" border="0" usemap="#rtheta_8c_a29a481b4e0cfe03c2e99795dc24e10d1_cgraph" alt=""/></div>
<map name="rtheta_8c_a29a481b4e0cfe03c2e99795dc24e10d1_cgraph" id="rtheta_8c_a29a481b4e0cfe03c2e99795dc24e10d1_cgraph">
<area shape="rect" id="node2" href="log_8h.html#a4f4caa375f1c3a9def422000f305cce5" title="Print/write out an error message. " alt="" coords="163,25,207,52"/>
<area shape="rect" id="node3" href="xlog_8c.html#aeb93dfd882dd6a658b86662e6e219a09" title="Open a log file. " alt="" coords="624,25,681,52"/>
<area shape="rect" id="node4" href="xlog_8c.html#aeaba9fb5d129e3ab9d5efa760206deff" title="track the number of errors of each type " alt="" coords="255,51,328,77"/>
<area shape="rect" id="node5" href="xlog_8c.html#a3d395705c83c0bda5aeee6a271fdfd47" title="Summarize the errors that have occurred. " alt="" coords="376,37,465,64"/>
<area shape="rect" id="node8" href="xlog_8c.html#a4f4caa375f1c3a9def422000f305cce5" title="Print/write out an error message. " alt="" coords="399,88,443,115"/>
<area shape="rect" id="node6" href="xlog_8c.html#a9a25be4f0d7d13fccc8457774d74167f" title="Print/write an informational message. " alt="" coords="525,25,564,52"/>
<area shape="rect" id="node7" href="log_8h.html#a488c6292e324fa9bd3793694c3d29826" title="message" alt="" coords="513,76,576,103"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="rtheta_8c_a29a481b4e0cfe03c2e99795dc24e10d1_icgraph.png" border="0" usemap="#rtheta_8c_a29a481b4e0cfe03c2e99795dc24e10d1_icgraph" alt=""/></div>
<map name="rtheta_8c_a29a481b4e0cfe03c2e99795dc24e10d1_icgraph" id="rtheta_8c_a29a481b4e0cfe03c2e99795dc24e10d1_icgraph">
<area shape="rect" id="node2" href="templates_8h.html#a38134c43cdc9afb2ef078514b06b4f88" title="Defines an r&#45;theta grid to accept a hydro model. " alt="" coords="164,5,295,32"/>
<area shape="rect" id="node3" href="templates_8h.html#a044bda6029c9b8057f77a920a61ce525" title="Allows a previous windsave to be used in a new hydro simulation. " alt="" coords="189,56,270,83"/>
<area shape="rect" id="node4" href="templates_8h.html#a8b3c1f6c4930f2daf2e4b20af1956787" title="Use the imported data to initialize various portions of the Wind and Domain structures. " alt="" coords="163,107,296,133"/>
<area shape="rect" id="node5" href="templates_8h.html#a4cb6c91545a34b48e5d6cd74a68665de" title="Set up an rtheta grid. " alt="" coords="179,157,279,184"/>
<area shape="rect" id="node6" href="templates_8h.html#afd293c7e79b81faca3f4a2d115eaea6a" title="Complete the creation of an rtheta wind comain by populating certain arrays used for interpolation..." alt="" coords="169,208,289,235"/>
</map>
</div>

</div>
</div>
<a id="a4cb6c91545a34b48e5d6cd74a68665de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4cb6c91545a34b48e5d6cd74a68665de">&#9670;&nbsp;</a></span>rtheta_make_grid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rtheta_make_grid </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="python_8h.html#ad957272e4ddecfb558775b2aeddf2ac4">WindPtr</a>&#160;</td>
          <td class="paramname"><em>w</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ndom</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set up an rtheta grid. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">WindPtr</td><td>w The structure which defines entire wind </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">int</td><td>ndom The current domain </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Always returns 0</dd></dl>
<pre class="fragment">For spherical polar, components we have defined the grid so that
i corresponds to a radial distance, and j corresponds to an angle,
e.g r theta.  increasing i corresponds to increasing distance,
and increasing theta corresponds to increasing angle measured from
the z axis. (This it should be fairly easy to implement true
spherical coordinates in the future.

There are two basic options:

The r-sapcing can be linear, or logarithmic.

The theta spacing is always linear
</pre><h3>Notes</h3>
<p>The parameters for describing the grid to be created must have to have been intialized and are part of the domain structure </p>

<p class="definition">Definition at line <a class="el" href="rtheta_8c_source.html#l00135">135</a> of file <a class="el" href="rtheta_8c_source.html">rtheta.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="rtheta_8c_a4cb6c91545a34b48e5d6cd74a68665de_cgraph.png" border="0" usemap="#rtheta_8c_a4cb6c91545a34b48e5d6cd74a68665de_cgraph" alt=""/></div>
<map name="rtheta_8c_a4cb6c91545a34b48e5d6cd74a68665de_cgraph" id="rtheta_8c_a4cb6c91545a34b48e5d6cd74a68665de_cgraph">
<area shape="rect" id="node2" href="foo_8h.html#a172ddeb06a81951700723a0b02d90557" title="Translate from the 2d element for an individual domain to the wind element number. " alt="" coords="169,5,247,32"/>
<area shape="rect" id="node3" href="rtheta_8c.html#a29a481b4e0cfe03c2e99795dc24e10d1" title="defines the wind cones that are needed to calculate ds in a cell " alt="" coords="153,56,263,83"/>
<area shape="rect" id="node4" href="log_8h.html#a4f4caa375f1c3a9def422000f305cce5" title="Print/write out an error message. " alt="" coords="311,56,355,83"/>
<area shape="rect" id="node5" href="xlog_8c.html#aeb93dfd882dd6a658b86662e6e219a09" title="Open a log file. " alt="" coords="772,56,829,83"/>
<area shape="rect" id="node6" href="xlog_8c.html#aeaba9fb5d129e3ab9d5efa760206deff" title="track the number of errors of each type " alt="" coords="403,81,476,108"/>
<area shape="rect" id="node7" href="xlog_8c.html#a3d395705c83c0bda5aeee6a271fdfd47" title="Summarize the errors that have occurred. " alt="" coords="524,68,613,95"/>
<area shape="rect" id="node10" href="xlog_8c.html#a4f4caa375f1c3a9def422000f305cce5" title="Print/write out an error message. " alt="" coords="547,119,591,145"/>
<area shape="rect" id="node8" href="xlog_8c.html#a9a25be4f0d7d13fccc8457774d74167f" title="Print/write an informational message. " alt="" coords="673,56,712,83"/>
<area shape="rect" id="node9" href="log_8h.html#a488c6292e324fa9bd3793694c3d29826" title="message" alt="" coords="661,107,724,133"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="rtheta_8c_a4cb6c91545a34b48e5d6cd74a68665de_icgraph.png" border="0" usemap="#rtheta_8c_a4cb6c91545a34b48e5d6cd74a68665de_icgraph" alt=""/></div>
<map name="rtheta_8c_a4cb6c91545a34b48e5d6cd74a68665de_icgraph" id="rtheta_8c_a4cb6c91545a34b48e5d6cd74a68665de_icgraph">
<area shape="rect" id="node2" href="wind2d_8c.html#a41ee5cb999f1d4258673b6134394b4cc" title="initializes the structures which characterize the wind, including wmain and plasmamain. " alt="" coords="153,5,229,32"/>
<area shape="rect" id="node3" href="python_8c.html#afced8478b91af5c169926dfa4426333d" title="The main routine for Python, which supervises the ingest of data defining a model, the initializtion of the model, and actual run of the model, and writing the data to the disk. " alt="" coords="277,5,321,32"/>
</map>
</div>

</div>
</div>
<a id="a16377719f4171d75f5aa983c79476590"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16377719f4171d75f5aa983c79476590">&#9670;&nbsp;</a></span>rtheta_volumes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rtheta_volumes </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ndom</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="python_8h.html#ad957272e4ddecfb558775b2aeddf2ac4">WindPtr</a>&#160;</td>
          <td class="paramname"><em>w</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>rtheta_volume(w) calculates the wind volume of a cell in rtheta coordinate sysem allowing for the fact that some cells may not be in the active wind region </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">int</td><td>ndom The domain of interest </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">WindPtr</td><td>w the entire wind </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Always returns 0</dd></dl>
<pre class="fragment">ksl--04aug--some of the machinations regarding what to to at the
edge of the wind seem bizarre, like a substiture for figuring out
what one actually should be doing.  However, volume &gt; 0 is used
for making certain choices in the existing code, and so one does
need to be careful.  The existing code does not accurately calcuate
the volume in the sense that it does not weight accroding to rho!
</pre><h3>Notes</h3>
<p>This is a brute-force integration of the volume</p>
<p>In calculating volumes we allow for the fact that a cell exists above and below the plane of the disk </p>

<p class="definition">Definition at line <a class="el" href="rtheta_8c_source.html#l00434">434</a> of file <a class="el" href="rtheta_8c_source.html">rtheta.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="rtheta_8c_a16377719f4171d75f5aa983c79476590_cgraph.png" border="0" usemap="#rtheta_8c_a16377719f4171d75f5aa983c79476590_cgraph" alt=""/></div>
<map name="rtheta_8c_a16377719f4171d75f5aa983c79476590_cgraph" id="rtheta_8c_a16377719f4171d75f5aa983c79476590_cgraph">
<area shape="rect" id="node2" href="foo_8h.html#af8c5f231035fc1a85000b9849b4fb0ed" title="fraction" alt="" coords="177,5,231,32"/>
<area shape="rect" id="node3" href="foo_8h.html#a172ddeb06a81951700723a0b02d90557" title="Translate from the 2d element for an individual domain to the wind element number. " alt="" coords="165,56,243,83"/>
<area shape="rect" id="node4" href="log_8h.html#a4f4caa375f1c3a9def422000f305cce5" title="Print/write out an error message. " alt="" coords="182,107,226,133"/>
<area shape="rect" id="node11" href="rtheta_8c.html#a6a70fbae6e163ad01aec40a2354ed674" title="Check whether a cell in an rtheta coordiante system is in the wind. " alt="" coords="144,164,264,191"/>
<area shape="rect" id="node14" href="foo_8h.html#a2c852998cd074100b68f8750a8d8ca99" title="where_in_wind" alt="" coords="328,252,417,279"/>
<area shape="rect" id="node5" href="xlog_8c.html#aeb93dfd882dd6a658b86662e6e219a09" title="Open a log file. " alt="" coords="729,49,787,76"/>
<area shape="rect" id="node6" href="xlog_8c.html#aeaba9fb5d129e3ab9d5efa760206deff" title="track the number of errors of each type " alt="" coords="336,100,409,127"/>
<area shape="rect" id="node7" href="xlog_8c.html#a3d395705c83c0bda5aeee6a271fdfd47" title="Summarize the errors that have occurred. " alt="" coords="481,75,571,101"/>
<area shape="rect" id="node10" href="xlog_8c.html#a4f4caa375f1c3a9def422000f305cce5" title="Print/write out an error message. " alt="" coords="504,125,548,152"/>
<area shape="rect" id="node8" href="xlog_8c.html#a9a25be4f0d7d13fccc8457774d74167f" title="Print/write an informational message. " alt="" coords="631,49,669,76"/>
<area shape="rect" id="node9" href="log_8h.html#a488c6292e324fa9bd3793694c3d29826" title="message" alt="" coords="619,100,681,127"/>
<area shape="rect" id="node12" href="foo_8h.html#aed64e9379499a741e8a7c42376e20530" title="Translate a cell number in the wind to the two&#45;d grid position in a specific domain. " alt="" coords="334,151,411,177"/>
<area shape="rect" id="node13" href="foo_8h.html#a80e38cc8054ee669104c30986700d508" title="The routine basically just calls where_in_wind for each of the 4 corners of the cell. " alt="" coords="312,201,433,228"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="rtheta_8c_a16377719f4171d75f5aa983c79476590_icgraph.png" border="0" usemap="#rtheta_8c_a16377719f4171d75f5aa983c79476590_icgraph" alt=""/></div>
<map name="rtheta_8c_a16377719f4171d75f5aa983c79476590_icgraph" id="rtheta_8c_a16377719f4171d75f5aa983c79476590_icgraph">
<area shape="rect" id="node2" href="wind2d_8c.html#a41ee5cb999f1d4258673b6134394b4cc" title="initializes the structures which characterize the wind, including wmain and plasmamain. " alt="" coords="144,5,220,32"/>
<area shape="rect" id="node3" href="python_8c.html#afced8478b91af5c169926dfa4426333d" title="The main routine for Python, which supervises the ingest of data defining a model, the initializtion of the model, and actual run of the model, and writing the data to the disk. " alt="" coords="268,5,312,32"/>
</map>
</div>

</div>
</div>
<a id="a4526cc1605a2fd32d6d0106ac1a1e25d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4526cc1605a2fd32d6d0106ac1a1e25d">&#9670;&nbsp;</a></span>rtheta_where_in_grid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rtheta_where_in_grid </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ndom</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="import__cylindrical_8c.html#a099bc7b5a9501685180c163c1ffb67d0">x</a>&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>locates the grid position of the vector, when one is using rtheta coordinates. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">int</td><td>ndom The domain of interest </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">double</td><td>x[] A three-vector defining a position </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns the cell number associated with a position. If x is inside the grid, the routine returns -1, if outside -2</dd></dl>
<p>??? DESCRIPTION ???</p>
<h3>Notes</h3>
<p>Where_in grid does not tell you whether the x is in the wind or not. </p><pre class="fragment">What one means by inside or outside the grid may well be different
for different coordinate systems.</pre> 
<p class="definition">Definition at line <a class="el" href="rtheta_8c_source.html#l00631">631</a> of file <a class="el" href="rtheta_8c_source.html">rtheta.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="rtheta_8c_a4526cc1605a2fd32d6d0106ac1a1e25d_cgraph.png" border="0" usemap="#rtheta_8c_a4526cc1605a2fd32d6d0106ac1a1e25d_cgraph" alt=""/></div>
<map name="rtheta_8c_a4526cc1605a2fd32d6d0106ac1a1e25d_cgraph" id="rtheta_8c_a4526cc1605a2fd32d6d0106ac1a1e25d_cgraph">
<area shape="rect" id="node2" href="foo_8h.html#a779ccebed86e21a9d217673baf5da757" title="length" alt="" coords="183,5,233,32"/>
<area shape="rect" id="node3" href="foo_8h.html#af8c5f231035fc1a85000b9849b4fb0ed" title="fraction" alt="" coords="181,56,235,83"/>
<area shape="rect" id="node4" href="foo_8h.html#a172ddeb06a81951700723a0b02d90557" title="Translate from the 2d element for an individual domain to the wind element number. " alt="" coords="169,107,247,133"/>
</map>
</div>

</div>
</div>
<a id="afd293c7e79b81faca3f4a2d115eaea6a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afd293c7e79b81faca3f4a2d115eaea6a">&#9670;&nbsp;</a></span>rtheta_wind_complete()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rtheta_wind_complete </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ndom</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="python_8h.html#ad957272e4ddecfb558775b2aeddf2ac4">WindPtr</a>&#160;</td>
          <td class="paramname"><em>w</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Complete the creation of an rtheta wind comain by populating certain arrays used for interpolation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">int</td><td>ndom The domain containing this wind component </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">WindPtr</td><td>w The entire wind </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Always returns 0</dd></dl>
<h3>Notes</h3>
<p>This routine sets up a few arrays in domains that have rtheta coordiantes. These arrays are used to determine where in a cell one is, and how far it is to the edge of the cell for photon bundles.</p>
<p>The routine is called when the domain is set up, and called again whenever the windsave file is read in. </p>

<p class="definition">Definition at line <a class="el" href="rtheta_8c_source.html#l00310">310</a> of file <a class="el" href="rtheta_8c_source.html">rtheta.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="rtheta_8c_afd293c7e79b81faca3f4a2d115eaea6a_cgraph.png" border="0" usemap="#rtheta_8c_afd293c7e79b81faca3f4a2d115eaea6a_cgraph" alt=""/></div>
<map name="rtheta_8c_afd293c7e79b81faca3f4a2d115eaea6a_cgraph" id="rtheta_8c_afd293c7e79b81faca3f4a2d115eaea6a_cgraph">
<area shape="rect" id="node2" href="rtheta_8c.html#a29a481b4e0cfe03c2e99795dc24e10d1" title="defines the wind cones that are needed to calculate ds in a cell " alt="" coords="173,25,283,52"/>
<area shape="rect" id="node3" href="log_8h.html#a4f4caa375f1c3a9def422000f305cce5" title="Print/write out an error message. " alt="" coords="331,25,375,52"/>
<area shape="rect" id="node4" href="xlog_8c.html#aeb93dfd882dd6a658b86662e6e219a09" title="Open a log file. " alt="" coords="792,25,849,52"/>
<area shape="rect" id="node5" href="xlog_8c.html#aeaba9fb5d129e3ab9d5efa760206deff" title="track the number of errors of each type " alt="" coords="423,51,496,77"/>
<area shape="rect" id="node6" href="xlog_8c.html#a3d395705c83c0bda5aeee6a271fdfd47" title="Summarize the errors that have occurred. " alt="" coords="544,37,633,64"/>
<area shape="rect" id="node9" href="xlog_8c.html#a4f4caa375f1c3a9def422000f305cce5" title="Print/write out an error message. " alt="" coords="567,88,611,115"/>
<area shape="rect" id="node7" href="xlog_8c.html#a9a25be4f0d7d13fccc8457774d74167f" title="Print/write an informational message. " alt="" coords="693,25,732,52"/>
<area shape="rect" id="node8" href="log_8h.html#a488c6292e324fa9bd3793694c3d29826" title="message" alt="" coords="681,76,744,103"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="rtheta_8c_afd293c7e79b81faca3f4a2d115eaea6a_icgraph.png" border="0" usemap="#rtheta_8c_afd293c7e79b81faca3f4a2d115eaea6a_icgraph" alt=""/></div>
<map name="rtheta_8c_afd293c7e79b81faca3f4a2d115eaea6a_icgraph" id="rtheta_8c_afd293c7e79b81faca3f4a2d115eaea6a_icgraph">
<area shape="rect" id="node2" href="windsave_8c.html#ad5c30455dbf640e7a5d68132a8e4a5c5" title="A driver routine that calls coordinate&#45;system specific routines that complete the descirption of the ..." alt="" coords="173,31,263,57"/>
<area shape="rect" id="node3" href="wind2d_8c.html#a41ee5cb999f1d4258673b6134394b4cc" title="initializes the structures which characterize the wind, including wmain and plasmamain. " alt="" coords="311,5,387,32"/>
<area shape="rect" id="node5" href="windsave_8c.html#a1bf368d85f72b220cc4cba091a5e0702" title="Read back the windsavefile. " alt="" coords="315,56,383,83"/>
<area shape="rect" id="node4" href="python_8c.html#afced8478b91af5c169926dfa4426333d" title="The main routine for Python, which supervises the ingest of data defining a model, the initializtion of the model, and actual run of the model, and writing the data to the disk. " alt="" coords="435,5,479,32"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_b2f33c71d4aa5e7af42a1ca61ff5af1b.html">source</a></li><li class="navelem"><a class="el" href="rtheta_8c.html">rtheta.c</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
