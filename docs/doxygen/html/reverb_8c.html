<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Python MCRT: /Users/mhewitt/python/source/reverb.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Python MCRT
   </div>
   <div id="projectbrief">A Monte Carlo radiative transfer and ionization code</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('reverb_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">reverb.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Reverberation mapping functions.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;math.h&gt;</code><br />
<code>#include &lt;errno.h&gt;</code><br />
<code>#include &quot;<a class="el" href="atomic_8h_source.html">atomic.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="python_8h_source.html">python.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for reverb.c:</div>
<div class="dyncontent">
<div class="center"><img src="reverb_8c__incl.png" border="0" usemap="#_2_users_2mhewitt_2python_2source_2reverb_8c" alt=""/></div>
<map name="_2_users_2mhewitt_2python_2source_2reverb_8c" id="_2_users_2mhewitt_2python_2source_2reverb_8c">
<area shape="rect" id="node7" href="atomic_8h.html" title="atomic.h" alt="" coords="393,95,453,121"/>
<area shape="rect" id="node8" href="python_8h.html" title="python.h" alt="" coords="477,95,537,121"/>
<area shape="rect" id="node9" href="log_8h.html" title="log.h" alt="" coords="361,169,405,196"/>
<area shape="rect" id="node10" href="version_8h.html" title="version.h" alt="" coords="429,169,492,196"/>
<area shape="rect" id="node11" href="templates_8h.html" title="templates.h" alt="" coords="516,169,589,196"/>
<area shape="rect" id="node12" href="recipes_8h.html" title="recipes.h" alt="" coords="613,169,676,196"/>
</map>
</div>
</div>
<p><a href="reverb_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aa5efed3848af045bb3035fc6db93e757"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reverb_8c.html#aa5efed3848af045bb3035fc6db93e757">delay_to_observer</a> (<a class="el" href="python_8h.html#ad2424d53ebcf811656882a87e11b440c">PhotPtr</a> pp)</td></tr>
<tr class="memdesc:aa5efed3848af045bb3035fc6db93e757"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates the delay to the observer plane.  <a href="#aa5efed3848af045bb3035fc6db93e757">More...</a><br /></td></tr>
<tr class="separator:aa5efed3848af045bb3035fc6db93e757"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed071173676fa884b0045139793c85d7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reverb_8c.html#aed071173676fa884b0045139793c85d7">delay_dump_prep</a> (int restart_stat)</td></tr>
<tr class="memdesc:aed071173676fa884b0045139793c85d7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepares delay dump output file.  <a href="#aed071173676fa884b0045139793c85d7">More...</a><br /></td></tr>
<tr class="separator:aed071173676fa884b0045139793c85d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a835e66c48118aa52e1903512ed676f20"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reverb_8c.html#a835e66c48118aa52e1903512ed676f20">delay_dump_finish</a> (void)</td></tr>
<tr class="memdesc:a835e66c48118aa52e1903512ed676f20"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finishes dumping tracked photons to file.  <a href="#a835e66c48118aa52e1903512ed676f20">More...</a><br /></td></tr>
<tr class="separator:a835e66c48118aa52e1903512ed676f20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83531c4a215b42e705cd97b00088be71"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reverb_8c.html#a83531c4a215b42e705cd97b00088be71">delay_dump_combine</a> (int i_ranks)</td></tr>
<tr class="memdesc:a83531c4a215b42e705cd97b00088be71"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepares delay dump output file.  <a href="#a83531c4a215b42e705cd97b00088be71">More...</a><br /></td></tr>
<tr class="separator:a83531c4a215b42e705cd97b00088be71"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0ede87d97addcd4c5df57e2930dbdb6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reverb_8c.html#ac0ede87d97addcd4c5df57e2930dbdb6">delay_dump</a> (<a class="el" href="python_8h.html#ad2424d53ebcf811656882a87e11b440c">PhotPtr</a> p, int np)</td></tr>
<tr class="memdesc:ac0ede87d97addcd4c5df57e2930dbdb6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dumps tracked photons to file.  <a href="#ac0ede87d97addcd4c5df57e2930dbdb6">More...</a><br /></td></tr>
<tr class="separator:ac0ede87d97addcd4c5df57e2930dbdb6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30c0a9051caebba27b5ef5583d38ad0c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reverb_8c.html#a30c0a9051caebba27b5ef5583d38ad0c">delay_dump_single</a> (<a class="el" href="python_8h.html#ad2424d53ebcf811656882a87e11b440c">PhotPtr</a> pp, int i_spec)</td></tr>
<tr class="memdesc:a30c0a9051caebba27b5ef5583d38ad0c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Preps a single photon to be dumped.  <a href="#a30c0a9051caebba27b5ef5583d38ad0c">More...</a><br /></td></tr>
<tr class="separator:a30c0a9051caebba27b5ef5583d38ad0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a55ca7fab98bba495ce75d100d6e90d4c"><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reverb_8c.html#a55ca7fab98bba495ce75d100d6e90d4c">delay_dump_file</a> [<a class="el" href="xlog_8c.html#a10e8c7b8458375c3dbfbb4010a2aba8c">LINELENGTH</a>]</td></tr>
<tr class="separator:a55ca7fab98bba495ce75d100d6e90d4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a588f4feb9a791e95c422851e3806239e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reverb_8c.html#a588f4feb9a791e95c422851e3806239e">delay_dump_bank_size</a> = 65535</td></tr>
<tr class="separator:a588f4feb9a791e95c422851e3806239e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43dc90d8db821aedbbdb98368d4e1000"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reverb_8c.html#a43dc90d8db821aedbbdb98368d4e1000">delay_dump_bank_curr</a> = 0</td></tr>
<tr class="separator:a43dc90d8db821aedbbdb98368d4e1000"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4656ec5b05a4c9cd89509459fd8243e"><td class="memItemLeft" align="right" valign="top">int *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reverb_8c.html#ac4656ec5b05a4c9cd89509459fd8243e">delay_dump_spec</a></td></tr>
<tr class="separator:ac4656ec5b05a4c9cd89509459fd8243e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7bfc559baf9a00e484c273ebef3e387f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="python_8h.html#ad2424d53ebcf811656882a87e11b440c">PhotPtr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reverb_8c.html#a7bfc559baf9a00e484c273ebef3e387f">delay_dump_bank</a></td></tr>
<tr class="separator:a7bfc559baf9a00e484c273ebef3e387f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Reverberation mapping functions. </p>
<dl class="section author"><dt>Author</dt><dd>SWM </dd></dl>
<dl class="section date"><dt>Date</dt><dd>July, 2015 File containing reverberation mapping functions. </dd></dl>

<p class="definition">Definition in file <a class="el" href="reverb_8c_source.html">reverb.c</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="ac0ede87d97addcd4c5df57e2930dbdb6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac0ede87d97addcd4c5df57e2930dbdb6">&#9670;&nbsp;</a></span>delay_dump()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int delay_dump </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="python_8h.html#ad2424d53ebcf811656882a87e11b440c">PhotPtr</a>&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>np</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Dumps tracked photons to file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">np</td><td>Pointer to photon array tp dump </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">np</td><td>Number photons in p </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">iExtracted</td><td>Array of extract flags for p </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0</dd></dl>
<p>Sifts through the photons in the delay_dump file, checking if they've scattered or were generated in the wind and so contribute to the delay map. Uses the same filters as the spectra_create() function for scatters &amp; angles.</p>
<h3>Notes</h3>
<p>6/15 - Written by SWM </p>

<p class="definition">Definition at line <a class="el" href="reverb_8c_source.html#l00212">212</a> of file <a class="el" href="reverb_8c_source.html">reverb.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="reverb_8c_ac0ede87d97addcd4c5df57e2930dbdb6_cgraph.png" border="0" usemap="#reverb_8c_ac0ede87d97addcd4c5df57e2930dbdb6_cgraph" alt=""/></div>
<map name="reverb_8c_ac0ede87d97addcd4c5df57e2930dbdb6_cgraph" id="reverb_8c_ac0ede87d97addcd4c5df57e2930dbdb6_cgraph">
<area shape="rect" id="node2" href="log_8h.html#a9a25be4f0d7d13fccc8457774d74167f" title="Print/write an informational message. " alt="" coords="300,5,339,32"/>
<area shape="rect" id="node4" href="log_8h.html#a4f4caa375f1c3a9def422000f305cce5" title="Print/write out an error message. " alt="" coords="159,69,203,96"/>
<area shape="rect" id="node10" href="reverb_8c.html#aa5efed3848af045bb3035fc6db93e757" title="Calculates the delay to the observer plane. " alt="" coords="129,132,233,159"/>
<area shape="rect" id="node3" href="xlog_8c.html#aeb93dfd882dd6a658b86662e6e219a09" title="Open a log file. " alt="" coords="653,81,711,108"/>
<area shape="rect" id="node5" href="xlog_8c.html#aeaba9fb5d129e3ab9d5efa760206deff" title="track the number of errors of each type " alt="" coords="283,107,356,133"/>
<area shape="rect" id="node6" href="xlog_8c.html#a3d395705c83c0bda5aeee6a271fdfd47" title="Summarize the errors that have occurred. " alt="" coords="405,107,495,133"/>
<area shape="rect" id="node9" href="xlog_8c.html#a4f4caa375f1c3a9def422000f305cce5" title="Print/write out an error message. " alt="" coords="428,157,472,184"/>
<area shape="rect" id="node7" href="xlog_8c.html#a9a25be4f0d7d13fccc8457774d74167f" title="Print/write an informational message. " alt="" coords="555,107,593,133"/>
<area shape="rect" id="node8" href="log_8h.html#a488c6292e324fa9bd3793694c3d29826" title="message" alt="" coords="543,157,605,184"/>
<area shape="rect" id="node11" href="foo_8h.html#ae443765b508c1d69ac5249ef9de2bb81" title="calculates the distance of a photon must travel to hit the plane. " alt="" coords="281,157,357,184"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="reverb_8c_ac0ede87d97addcd4c5df57e2930dbdb6_icgraph.png" border="0" usemap="#reverb_8c_ac0ede87d97addcd4c5df57e2930dbdb6_icgraph" alt=""/></div>
<map name="reverb_8c_ac0ede87d97addcd4c5df57e2930dbdb6_icgraph" id="reverb_8c_ac0ede87d97addcd4c5df57e2930dbdb6_icgraph">
<area shape="rect" id="node2" href="templates_8h.html#a835e66c48118aa52e1903512ed676f20" title="Finishes dumping tracked photons to file. " alt="" coords="131,5,236,32"/>
<area shape="rect" id="node3" href="templates_8h.html#a30c0a9051caebba27b5ef5583d38ad0c" title="Preps a single photon to be dumped. " alt="" coords="129,56,237,83"/>
</map>
</div>

</div>
</div>
<a id="a83531c4a215b42e705cd97b00088be71"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83531c4a215b42e705cd97b00088be71">&#9670;&nbsp;</a></span>delay_dump_combine()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int delay_dump_combine </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>i_ranks</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prepares delay dump output file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">i_ranks</td><td>Number of parallel processes </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0</dd></dl>
<p>Collects all the delay dump files together at the end. Called by the master thread. Uses 'cat' for simplicity.</p>
<h3>Notes</h3>
<p>6/15 - Written by SWM </p>

<p class="definition">Definition at line <a class="el" href="reverb_8c_source.html#l00159">159</a> of file <a class="el" href="reverb_8c_source.html">reverb.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="reverb_8c_a83531c4a215b42e705cd97b00088be71_cgraph.png" border="0" usemap="#reverb_8c_a83531c4a215b42e705cd97b00088be71_cgraph" alt=""/></div>
<map name="reverb_8c_a83531c4a215b42e705cd97b00088be71_cgraph" id="reverb_8c_a83531c4a215b42e705cd97b00088be71_cgraph">
<area shape="rect" id="node2" href="log_8h.html#a4f4caa375f1c3a9def422000f305cce5" title="Print/write out an error message. " alt="" coords="173,25,217,52"/>
<area shape="rect" id="node3" href="xlog_8c.html#aeb93dfd882dd6a658b86662e6e219a09" title="Open a log file. " alt="" coords="635,25,692,52"/>
<area shape="rect" id="node4" href="xlog_8c.html#aeaba9fb5d129e3ab9d5efa760206deff" title="track the number of errors of each type " alt="" coords="265,51,339,77"/>
<area shape="rect" id="node5" href="xlog_8c.html#a3d395705c83c0bda5aeee6a271fdfd47" title="Summarize the errors that have occurred. " alt="" coords="387,37,476,64"/>
<area shape="rect" id="node8" href="xlog_8c.html#a4f4caa375f1c3a9def422000f305cce5" title="Print/write out an error message. " alt="" coords="409,88,453,115"/>
<area shape="rect" id="node6" href="xlog_8c.html#a9a25be4f0d7d13fccc8457774d74167f" title="Print/write an informational message. " alt="" coords="536,25,575,52"/>
<area shape="rect" id="node7" href="log_8h.html#a488c6292e324fa9bd3793694c3d29826" title="message" alt="" coords="524,76,587,103"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="reverb_8c_a83531c4a215b42e705cd97b00088be71_icgraph.png" border="0" usemap="#reverb_8c_a83531c4a215b42e705cd97b00088be71_icgraph" alt=""/></div>
<map name="reverb_8c_a83531c4a215b42e705cd97b00088be71_icgraph" id="reverb_8c_a83531c4a215b42e705cd97b00088be71_icgraph">
<area shape="rect" id="node2" href="templates_8h.html#abc2ad803345c801984f4dc64d4d4a9e0" title="generates the detailed spectra " alt="" coords="173,5,259,32"/>
</map>
</div>

</div>
</div>
<a id="a835e66c48118aa52e1903512ed676f20"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a835e66c48118aa52e1903512ed676f20">&#9670;&nbsp;</a></span>delay_dump_finish()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int delay_dump_finish </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Finishes dumping tracked photons to file. </p>
<dl class="section return"><dt>Returns</dt><dd>0</dd></dl>
<p>Dumps the remaining tracked photons to file, frees memory.</p>
<h3>Notes</h3>
<p>6/15 - Written by SWM </p>

<p class="definition">Definition at line <a class="el" href="reverb_8c_source.html#l00133">133</a> of file <a class="el" href="reverb_8c_source.html">reverb.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="reverb_8c_a835e66c48118aa52e1903512ed676f20_cgraph.png" border="0" usemap="#reverb_8c_a835e66c48118aa52e1903512ed676f20_cgraph" alt=""/></div>
<map name="reverb_8c_a835e66c48118aa52e1903512ed676f20_cgraph" id="reverb_8c_a835e66c48118aa52e1903512ed676f20_cgraph">
<area shape="rect" id="node2" href="log_8h.html#a9a25be4f0d7d13fccc8457774d74167f" title="Print/write an informational message. " alt="" coords="315,5,354,32"/>
<area shape="rect" id="node4" href="reverb_8c.html#ac0ede87d97addcd4c5df57e2930dbdb6" title="Dumps tracked photons to file. " alt="" coords="159,56,235,83"/>
<area shape="rect" id="node3" href="xlog_8c.html#aeb93dfd882dd6a658b86662e6e219a09" title="Open a log file. " alt="" coords="807,68,864,95"/>
<area shape="rect" id="node5" href="log_8h.html#a4f4caa375f1c3a9def422000f305cce5" title="Print/write out an error message. " alt="" coords="313,56,357,83"/>
<area shape="rect" id="node11" href="reverb_8c.html#aa5efed3848af045bb3035fc6db93e757" title="Calculates the delay to the observer plane. " alt="" coords="283,119,387,145"/>
<area shape="rect" id="node6" href="xlog_8c.html#aeaba9fb5d129e3ab9d5efa760206deff" title="track the number of errors of each type " alt="" coords="436,93,509,120"/>
<area shape="rect" id="node7" href="xlog_8c.html#a3d395705c83c0bda5aeee6a271fdfd47" title="Summarize the errors that have occurred. " alt="" coords="559,93,648,120"/>
<area shape="rect" id="node10" href="xlog_8c.html#a4f4caa375f1c3a9def422000f305cce5" title="Print/write out an error message. " alt="" coords="581,144,625,171"/>
<area shape="rect" id="node8" href="xlog_8c.html#a9a25be4f0d7d13fccc8457774d74167f" title="Print/write an informational message. " alt="" coords="708,93,747,120"/>
<area shape="rect" id="node9" href="log_8h.html#a488c6292e324fa9bd3793694c3d29826" title="message" alt="" coords="696,144,759,171"/>
<area shape="rect" id="node12" href="foo_8h.html#ae443765b508c1d69ac5249ef9de2bb81" title="calculates the distance of a photon must travel to hit the plane. " alt="" coords="435,144,511,171"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="reverb_8c_a835e66c48118aa52e1903512ed676f20_icgraph.png" border="0" usemap="#reverb_8c_a835e66c48118aa52e1903512ed676f20_icgraph" alt=""/></div>
<map name="reverb_8c_a835e66c48118aa52e1903512ed676f20_icgraph" id="reverb_8c_a835e66c48118aa52e1903512ed676f20_icgraph">
<area shape="rect" id="node2" href="templates_8h.html#abc2ad803345c801984f4dc64d4d4a9e0" title="generates the detailed spectra " alt="" coords="159,5,244,32"/>
</map>
</div>

</div>
</div>
<a id="aed071173676fa884b0045139793c85d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed071173676fa884b0045139793c85d7">&#9670;&nbsp;</a></span>delay_dump_prep()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int delay_dump_prep </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>restart_stat</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prepares delay dump output file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">filename</td><td>File root for run </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">restart_stat</td><td>If this is a restart run </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">i_rank</td><td>Parallel rank </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0</dd></dl>
<p>Sets up filenames, allocates bank for temporary storage of photons that are to be dumped, and if it's not a resume run prints out a header for the file. Filename is set per thread. The file is then built up in batches using <a class="el" href="reverb_8c.html#ac0ede87d97addcd4c5df57e2930dbdb6" title="Dumps tracked photons to file. ">delay_dump()</a> in increments of <a class="el" href="reverb_8c.html#a588f4feb9a791e95c422851e3806239e">delay_dump_bank_size</a>.</p>
<h3>Notes</h3>
<p>9/14 - Written by SWM </p>

<p class="definition">Definition at line <a class="el" href="reverb_8c_source.html#l00068">68</a> of file <a class="el" href="reverb_8c_source.html">reverb.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="reverb_8c_aed071173676fa884b0045139793c85d7_cgraph.png" border="0" usemap="#reverb_8c_aed071173676fa884b0045139793c85d7_cgraph" alt=""/></div>
<map name="reverb_8c_aed071173676fa884b0045139793c85d7_cgraph" id="reverb_8c_aed071173676fa884b0045139793c85d7_cgraph">
<area shape="rect" id="node2" href="log_8h.html#a9a25be4f0d7d13fccc8457774d74167f" title="Print/write an informational message. " alt="" coords="281,5,320,32"/>
<area shape="rect" id="node4" href="foo_8h.html#aa3b24089fadbcdf92560f31730390556" title="get_time" alt="" coords="156,56,216,83"/>
<area shape="rect" id="node5" href="log_8h.html#a4f4caa375f1c3a9def422000f305cce5" title="Print/write out an error message. " alt="" coords="164,107,208,133"/>
<area shape="rect" id="node3" href="xlog_8c.html#aeb93dfd882dd6a658b86662e6e219a09" title="Open a log file. " alt="" coords="633,81,691,108"/>
<area shape="rect" id="node6" href="xlog_8c.html#aeaba9fb5d129e3ab9d5efa760206deff" title="track the number of errors of each type " alt="" coords="264,132,337,159"/>
<area shape="rect" id="node7" href="xlog_8c.html#a3d395705c83c0bda5aeee6a271fdfd47" title="Summarize the errors that have occurred. " alt="" coords="385,119,475,145"/>
<area shape="rect" id="node10" href="xlog_8c.html#a4f4caa375f1c3a9def422000f305cce5" title="Print/write out an error message. " alt="" coords="408,169,452,196"/>
<area shape="rect" id="node8" href="xlog_8c.html#a9a25be4f0d7d13fccc8457774d74167f" title="Print/write an informational message. " alt="" coords="535,107,573,133"/>
<area shape="rect" id="node9" href="log_8h.html#a488c6292e324fa9bd3793694c3d29826" title="message" alt="" coords="523,157,585,184"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="reverb_8c_aed071173676fa884b0045139793c85d7_icgraph.png" border="0" usemap="#reverb_8c_aed071173676fa884b0045139793c85d7_icgraph" alt=""/></div>
<map name="reverb_8c_aed071173676fa884b0045139793c85d7_icgraph" id="reverb_8c_aed071173676fa884b0045139793c85d7_icgraph">
<area shape="rect" id="node2" href="templates_8h.html#a28fc174aa63a5eeef6de99ef392e1616" title="run the ionization cycles for a python model " alt="" coords="156,5,265,32"/>
</map>
</div>

</div>
</div>
<a id="a30c0a9051caebba27b5ef5583d38ad0c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30c0a9051caebba27b5ef5583d38ad0c">&#9670;&nbsp;</a></span>delay_dump_single()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int delay_dump_single </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="python_8h.html#ad2424d53ebcf811656882a87e11b440c">PhotPtr</a>&#160;</td>
          <td class="paramname"><em>pp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>i_spec</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Preps a single photon to be dumped. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pp</td><td>Pointer to extracted photon </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">i_spec</td><td>Spectrum p extracted to </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0</dd></dl>
<p>Takes a photon and copies it to the staging arrays for delay dumping, to be output to file later.</p>
<h3>Notes</h3>
<p>6/15 - Written by SWM </p>

<p class="definition">Definition at line <a class="el" href="reverb_8c_source.html#l00281">281</a> of file <a class="el" href="reverb_8c_source.html">reverb.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="reverb_8c_a30c0a9051caebba27b5ef5583d38ad0c_cgraph.png" border="0" usemap="#reverb_8c_a30c0a9051caebba27b5ef5583d38ad0c_cgraph" alt=""/></div>
<map name="reverb_8c_a30c0a9051caebba27b5ef5583d38ad0c_cgraph" id="reverb_8c_a30c0a9051caebba27b5ef5583d38ad0c_cgraph">
<area shape="rect" id="node2" href="foo_8h.html#a1c6dc9c24a43e2bc6319b23faba4a041" title="Simply copy one photon bundle into another. " alt="" coords="167,19,232,45"/>
<area shape="rect" id="node3" href="reverb_8c.html#ac0ede87d97addcd4c5df57e2930dbdb6" title="Dumps tracked photons to file. " alt="" coords="161,69,237,96"/>
<area shape="rect" id="node4" href="log_8h.html#a9a25be4f0d7d13fccc8457774d74167f" title="Print/write an informational message. " alt="" coords="456,5,495,32"/>
<area shape="rect" id="node6" href="log_8h.html#a4f4caa375f1c3a9def422000f305cce5" title="Print/write out an error message. " alt="" coords="315,69,359,96"/>
<area shape="rect" id="node12" href="reverb_8c.html#aa5efed3848af045bb3035fc6db93e757" title="Calculates the delay to the observer plane. " alt="" coords="285,132,389,159"/>
<area shape="rect" id="node5" href="xlog_8c.html#aeb93dfd882dd6a658b86662e6e219a09" title="Open a log file. " alt="" coords="809,81,867,108"/>
<area shape="rect" id="node7" href="xlog_8c.html#aeaba9fb5d129e3ab9d5efa760206deff" title="track the number of errors of each type " alt="" coords="439,107,512,133"/>
<area shape="rect" id="node8" href="xlog_8c.html#a3d395705c83c0bda5aeee6a271fdfd47" title="Summarize the errors that have occurred. " alt="" coords="561,107,651,133"/>
<area shape="rect" id="node11" href="xlog_8c.html#a4f4caa375f1c3a9def422000f305cce5" title="Print/write out an error message. " alt="" coords="584,157,628,184"/>
<area shape="rect" id="node9" href="xlog_8c.html#a9a25be4f0d7d13fccc8457774d74167f" title="Print/write an informational message. " alt="" coords="711,107,749,133"/>
<area shape="rect" id="node10" href="log_8h.html#a488c6292e324fa9bd3793694c3d29826" title="message" alt="" coords="699,157,761,184"/>
<area shape="rect" id="node13" href="foo_8h.html#ae443765b508c1d69ac5249ef9de2bb81" title="calculates the distance of a photon must travel to hit the plane. " alt="" coords="437,157,513,184"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="reverb_8c_a30c0a9051caebba27b5ef5583d38ad0c_icgraph.png" border="0" usemap="#reverb_8c_a30c0a9051caebba27b5ef5583d38ad0c_icgraph" alt=""/></div>
<map name="reverb_8c_a30c0a9051caebba27b5ef5583d38ad0c_icgraph" id="reverb_8c_a30c0a9051caebba27b5ef5583d38ad0c_icgraph">
<area shape="rect" id="node2" href="templates_8h.html#a1aaecc045729b48d2ede700108567dcd" title="(w,pp,itype,nspec) " alt="" coords="161,31,236,57"/>
<area shape="rect" id="node3" href="templates_8h.html#a280fcbb3dddfaf58a73b2a8d6fd61c76" title="A supervisory routine called to builds detailed spectra in the normal (extract) mode. " alt="" coords="284,31,336,57"/>
<area shape="rect" id="node4" href="trans__phot_8c.html#a620388e1c4a8e38f192c5a0ce42af389" title="int (w,p,iextract) oversees the propagation of a &quot;flight&quot; of photons " alt="" coords="533,31,603,57"/>
<area shape="rect" id="node7" href="trans__phot_8c.html#a2f7b8208c76fe2718f45f46c9dc3a813" title="Transport a single photon photon through the wind. " alt="" coords="384,56,485,83"/>
<area shape="rect" id="node5" href="templates_8h.html#a28fc174aa63a5eeef6de99ef392e1616" title="run the ionization cycles for a python model " alt="" coords="651,5,760,32"/>
<area shape="rect" id="node6" href="templates_8h.html#abc2ad803345c801984f4dc64d4d4a9e0" title="generates the detailed spectra " alt="" coords="663,56,748,83"/>
</map>
</div>

</div>
</div>
<a id="aa5efed3848af045bb3035fc6db93e757"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa5efed3848af045bb3035fc6db93e757">&#9670;&nbsp;</a></span>delay_to_observer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double delay_to_observer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="python_8h.html#ad2424d53ebcf811656882a87e11b440c">PhotPtr</a>&#160;</td>
          <td class="paramname"><em>pp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates the delay to the observer plane. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pp</td><td>Pointer to test photon </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Distance from photon to plane</dd></dl>
<p>Sets up the observer plane, then calculates the distance from the current photon to it. Uses <a class="el" href="foo_8h.html#ae443765b508c1d69ac5249ef9de2bb81" title="calculates the distance of a photon must travel to hit the plane. ">ds_to_plane()</a> for reliability.</p>
<h3>Notes</h3>
<p>9/14 - Written by SWM </p>

<p class="definition">Definition at line <a class="el" href="reverb_8c_source.html#l00037">37</a> of file <a class="el" href="reverb_8c_source.html">reverb.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="reverb_8c_aa5efed3848af045bb3035fc6db93e757_cgraph.png" border="0" usemap="#reverb_8c_aa5efed3848af045bb3035fc6db93e757_cgraph" alt=""/></div>
<map name="reverb_8c_aa5efed3848af045bb3035fc6db93e757_cgraph" id="reverb_8c_aa5efed3848af045bb3035fc6db93e757_cgraph">
<area shape="rect" id="node2" href="foo_8h.html#ae443765b508c1d69ac5249ef9de2bb81" title="calculates the distance of a photon must travel to hit the plane. " alt="" coords="157,5,233,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="reverb_8c_aa5efed3848af045bb3035fc6db93e757_icgraph.png" border="0" usemap="#reverb_8c_aa5efed3848af045bb3035fc6db93e757_icgraph" alt=""/></div>
<map name="reverb_8c_aa5efed3848af045bb3035fc6db93e757_icgraph" id="reverb_8c_aa5efed3848af045bb3035fc6db93e757_icgraph">
<area shape="rect" id="node2" href="templates_8h.html#ad7572cd8c842aa9c3ee2476a89888ec4" title="Outputs wind path information to vtk. " alt="" coords="157,5,281,32"/>
<area shape="rect" id="node4" href="templates_8h.html#ac0ede87d97addcd4c5df57e2930dbdb6" title="Dumps tracked photons to file. " alt="" coords="181,56,257,83"/>
<area shape="rect" id="node3" href="templates_8h.html#a210e77beda2c9c25b9008de9107a17f8" title="Evaluates wind path details for a cycle. " alt="" coords="329,5,445,32"/>
<area shape="rect" id="node5" href="templates_8h.html#a835e66c48118aa52e1903512ed676f20" title="Finishes dumping tracked photons to file. " alt="" coords="335,56,440,83"/>
<area shape="rect" id="node6" href="templates_8h.html#a30c0a9051caebba27b5ef5583d38ad0c" title="Preps a single photon to be dumped. " alt="" coords="333,107,441,133"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a7bfc559baf9a00e484c273ebef3e387f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7bfc559baf9a00e484c273ebef3e387f">&#9670;&nbsp;</a></span>delay_dump_bank</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="python_8h.html#ad2424d53ebcf811656882a87e11b440c">PhotPtr</a> delay_dump_bank</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="reverb_8c_source.html#l00020">20</a> of file <a class="el" href="reverb_8c_source.html">reverb.c</a>.</p>

</div>
</div>
<a id="a43dc90d8db821aedbbdb98368d4e1000"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a43dc90d8db821aedbbdb98368d4e1000">&#9670;&nbsp;</a></span>delay_dump_bank_curr</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int delay_dump_bank_curr = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="reverb_8c_source.html#l00018">18</a> of file <a class="el" href="reverb_8c_source.html">reverb.c</a>.</p>

</div>
</div>
<a id="a588f4feb9a791e95c422851e3806239e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a588f4feb9a791e95c422851e3806239e">&#9670;&nbsp;</a></span>delay_dump_bank_size</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int delay_dump_bank_size = 65535</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="reverb_8c_source.html#l00018">18</a> of file <a class="el" href="reverb_8c_source.html">reverb.c</a>.</p>

</div>
</div>
<a id="a55ca7fab98bba495ce75d100d6e90d4c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a55ca7fab98bba495ce75d100d6e90d4c">&#9670;&nbsp;</a></span>delay_dump_file</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char delay_dump_file[<a class="el" href="xlog_8c.html#a10e8c7b8458375c3dbfbb4010a2aba8c">LINELENGTH</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="reverb_8c_source.html#l00017">17</a> of file <a class="el" href="reverb_8c_source.html">reverb.c</a>.</p>

</div>
</div>
<a id="ac4656ec5b05a4c9cd89509459fd8243e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac4656ec5b05a4c9cd89509459fd8243e">&#9670;&nbsp;</a></span>delay_dump_spec</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int* delay_dump_spec</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="reverb_8c_source.html#l00019">19</a> of file <a class="el" href="reverb_8c_source.html">reverb.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_b2f33c71d4aa5e7af42a1ca61ff5af1b.html">source</a></li><li class="navelem"><a class="el" href="reverb_8c.html">reverb.c</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
