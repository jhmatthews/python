\hypertarget{windsave2table__sub_8c}{}\section{/\+Users/mhewitt/python/source/windsave2table\+\_\+sub.c File Reference}
\label{windsave2table__sub_8c}\index{/\+Users/mhewitt/python/source/windsave2table\+\_\+sub.\+c@{/\+Users/mhewitt/python/source/windsave2table\+\_\+sub.\+c}}


Subroutines for windsave2table.  


{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include $<$stdlib.\+h$>$}\newline
{\ttfamily \#include $<$string.\+h$>$}\newline
{\ttfamily \#include $<$math.\+h$>$}\newline
{\ttfamily \#include \char`\"{}atomic.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}python.\+h\char`\"{}}\newline
Include dependency graph for windsave2table\+\_\+sub.\+c\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{windsave2table__sub_8c__incl}
\end{center}
\end{figure}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{windsave2table__sub_8c_a435ccfb2aea5f873c9508368e974eced}{do\+\_\+windsave2table} (char $\ast$root)
\begin{DoxyCompactList}\small\item\em The main routine associated with windsave2table, this routine calls various other routines which write individual files. \end{DoxyCompactList}\item 
int \hyperlink{windsave2table__sub_8c_afe3772325272c41a36f31deb1e2de602}{create\+\_\+master\+\_\+table} (int ndom, rootname)
\begin{DoxyCompactList}\small\item\em writes a specific variables of a windsaave which are intended to be of general interest to file which has the format of an astropy table \end{DoxyCompactList}\item 
int \hyperlink{windsave2table__sub_8c_a57cbceef71e198c504c6a29b6717cd5a}{create\+\_\+heat\+\_\+table} (int ndom, rootname)
\begin{DoxyCompactList}\small\item\em writes a selected variables related to heating and cooling processes to an ascii file which can be read as an astropy table \end{DoxyCompactList}\item 
int \hyperlink{windsave2table__sub_8c_a9f0c3036f941fc90a710ab34d104956b}{create\+\_\+ion\+\_\+table} (int ndom, rootname, int iz)
\begin{DoxyCompactList}\small\item\em makes an astropy table containing the relative abundances of a given element as a function of the position in the grid \end{DoxyCompactList}\item 
double $\ast$ \hyperlink{windsave2table__sub_8c_a05c44905d0f679cdd90dd52f13074609}{get\+\_\+ion} (int ndom, int \hyperlink{import__spherical_8c_a1d27360f25596ed5cc7188bb86556a2a}{element}, int istate, int iswitch)
\begin{DoxyCompactList}\small\item\em Get get density, etc for one particular ion. \end{DoxyCompactList}\item 
double $\ast$ \hyperlink{windsave2table__sub_8c_a068b89ba269389ab9ae9e05572ab9218}{get\+\_\+one} (int ndom, variable\+\_\+name)
\begin{DoxyCompactList}\small\item\em Get a simple variable from the Plasma\+Ptr array. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Subroutines for windsave2table. 

\begin{DoxyAuthor}{Author}
ksl 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
April, 2018
\end{DoxyDate}
These are various routines used by windsave2table which reads a windsave file and writes various variables of that windsave file to ascii files which can be read with astropy.\+io ascii as tables.

Unlike py\+\_\+wind, windsave2table is hardwired and to change what is written one must actually modify the routines themselves. 

\subsection{Function Documentation}
\mbox{\Hypertarget{windsave2table__sub_8c_a57cbceef71e198c504c6a29b6717cd5a}\label{windsave2table__sub_8c_a57cbceef71e198c504c6a29b6717cd5a}} 
\index{windsave2table\+\_\+sub.\+c@{windsave2table\+\_\+sub.\+c}!create\+\_\+heat\+\_\+table@{create\+\_\+heat\+\_\+table}}
\index{create\+\_\+heat\+\_\+table@{create\+\_\+heat\+\_\+table}!windsave2table\+\_\+sub.\+c@{windsave2table\+\_\+sub.\+c}}
\subsubsection{\texorpdfstring{create\+\_\+heat\+\_\+table()}{create\_heat\_table()}}
{\footnotesize\ttfamily int create\+\_\+heat\+\_\+table (\begin{DoxyParamCaption}\item[{int}]{ndom,  }\item[{rootname}]{ }\end{DoxyParamCaption})}



writes a selected variables related to heating and cooling processes to an ascii file which can be read as an astropy table 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em int} & ndom The domain of interest \\
\hline
\mbox{\tt in,out}  & {\em char} & rootname\mbox{[}\mbox{]} The rootname of the windsave file \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Always returns 0
\end{DoxyReturn}
\paragraph*{Notes}

To add a variable one just needs to define the column\+\_\+name and send the appropriate call to either get\+\_\+one or get\+\_\+ion. 

Definition at line 443 of file windsave2table\+\_\+sub.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{windsave2table__sub_8c_a57cbceef71e198c504c6a29b6717cd5a_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{windsave2table__sub_8c_a57cbceef71e198c504c6a29b6717cd5a_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{windsave2table__sub_8c_a9f0c3036f941fc90a710ab34d104956b}\label{windsave2table__sub_8c_a9f0c3036f941fc90a710ab34d104956b}} 
\index{windsave2table\+\_\+sub.\+c@{windsave2table\+\_\+sub.\+c}!create\+\_\+ion\+\_\+table@{create\+\_\+ion\+\_\+table}}
\index{create\+\_\+ion\+\_\+table@{create\+\_\+ion\+\_\+table}!windsave2table\+\_\+sub.\+c@{windsave2table\+\_\+sub.\+c}}
\subsubsection{\texorpdfstring{create\+\_\+ion\+\_\+table()}{create\_ion\_table()}}
{\footnotesize\ttfamily int create\+\_\+ion\+\_\+table (\begin{DoxyParamCaption}\item[{int}]{ndom,  }\item[{rootname}]{,  }\item[{int}]{iz }\end{DoxyParamCaption})}



makes an astropy table containing the relative abundances of a given element as a function of the position in the grid 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em int} & ndom The domain number \\
\hline
\mbox{\tt in}  & {\em char} & rootname\mbox{[}\mbox{]} The rootname of the windsave file \\
\hline
\mbox{\tt in}  & {\em int} & iz atomic number of the element \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 on completion
\end{DoxyReturn}
\paragraph*{Notes}

The routine calls get\+\_\+ion\+\_\+density mulitiple times, once for each ion of an atom 

Definition at line 674 of file windsave2table\+\_\+sub.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{windsave2table__sub_8c_a9f0c3036f941fc90a710ab34d104956b_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{windsave2table__sub_8c_a9f0c3036f941fc90a710ab34d104956b_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{windsave2table__sub_8c_afe3772325272c41a36f31deb1e2de602}\label{windsave2table__sub_8c_afe3772325272c41a36f31deb1e2de602}} 
\index{windsave2table\+\_\+sub.\+c@{windsave2table\+\_\+sub.\+c}!create\+\_\+master\+\_\+table@{create\+\_\+master\+\_\+table}}
\index{create\+\_\+master\+\_\+table@{create\+\_\+master\+\_\+table}!windsave2table\+\_\+sub.\+c@{windsave2table\+\_\+sub.\+c}}
\subsubsection{\texorpdfstring{create\+\_\+master\+\_\+table()}{create\_master\_table()}}
{\footnotesize\ttfamily int create\+\_\+master\+\_\+table (\begin{DoxyParamCaption}\item[{int}]{ndom,  }\item[{rootname}]{ }\end{DoxyParamCaption})}



writes a specific variables of a windsaave which are intended to be of general interest to file which has the format of an astropy table 

It is intended to be easily modifible.


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em int} & ndom A domain number \\
\hline
\mbox{\tt in}  & {\em char} & rootname The rootname of the master file \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Always returns 0
\end{DoxyReturn}
The master table is contains basic information for each cell in the wind, such as the electron density, the density, the ionization parameter, and the radiative and electron temperature

The routine takes data directly from wmain, and then calls get\+\_\+one or get\+\_\+ion multiple times to fet info from the Plasma structure.

It then writes the data to an ascii file which can be read as an astropy table

\paragraph*{Notes}

To add a variable one just needs to define the column\+\_\+name and send the appropriate call to either get\+\_\+one or get\+\_\+ion.

There is some duplicated code in the routine that pertains to whether one is dealing with a spherecial or a 2d coordinate system. It should be possible to delete this 

Definition at line 159 of file windsave2table\+\_\+sub.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{windsave2table__sub_8c_afe3772325272c41a36f31deb1e2de602_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{windsave2table__sub_8c_afe3772325272c41a36f31deb1e2de602_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{windsave2table__sub_8c_a435ccfb2aea5f873c9508368e974eced}\label{windsave2table__sub_8c_a435ccfb2aea5f873c9508368e974eced}} 
\index{windsave2table\+\_\+sub.\+c@{windsave2table\+\_\+sub.\+c}!do\+\_\+windsave2table@{do\+\_\+windsave2table}}
\index{do\+\_\+windsave2table@{do\+\_\+windsave2table}!windsave2table\+\_\+sub.\+c@{windsave2table\+\_\+sub.\+c}}
\subsubsection{\texorpdfstring{do\+\_\+windsave2table()}{do\_windsave2table()}}
{\footnotesize\ttfamily int do\+\_\+windsave2table (\begin{DoxyParamCaption}\item[{char $\ast$}]{root }\end{DoxyParamCaption})}



The main routine associated with windsave2table, this routine calls various other routines which write individual files. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em char} & $\ast$ root The rootname of the windsave file \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Always returns 0
\end{DoxyReturn}
\paragraph*{Notes}

The routine cycles through the various domains and calles subroutines that write the individual files for each domain. 

Definition at line 51 of file windsave2table\+\_\+sub.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{windsave2table__sub_8c_a435ccfb2aea5f873c9508368e974eced_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=279pt]{windsave2table__sub_8c_a435ccfb2aea5f873c9508368e974eced_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{windsave2table__sub_8c_a05c44905d0f679cdd90dd52f13074609}\label{windsave2table__sub_8c_a05c44905d0f679cdd90dd52f13074609}} 
\index{windsave2table\+\_\+sub.\+c@{windsave2table\+\_\+sub.\+c}!get\+\_\+ion@{get\+\_\+ion}}
\index{get\+\_\+ion@{get\+\_\+ion}!windsave2table\+\_\+sub.\+c@{windsave2table\+\_\+sub.\+c}}
\subsubsection{\texorpdfstring{get\+\_\+ion()}{get\_ion()}}
{\footnotesize\ttfamily double$\ast$ get\+\_\+ion (\begin{DoxyParamCaption}\item[{int}]{ndom,  }\item[{int}]{element,  }\item[{int}]{istate,  }\item[{int}]{iswitch }\end{DoxyParamCaption})}



Get get density, etc for one particular ion. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in,out}  & {\em int} & ndom the domain number \\
\hline
\mbox{\tt in,out}  & {\em int} & element the element number \\
\hline
\mbox{\tt in,out}  & {\em int} & istate the ionization state \\
\hline
\mbox{\tt in,out}  & {\em int} & iswitch a switch controlling exactly what is returned for that ion \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Normally returns an array with values associated with what is requested This will return an array with all zeros if there is no such ion
\end{DoxyReturn}
\paragraph*{Notes}

Definition at line 867 of file windsave2table\+\_\+sub.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{windsave2table__sub_8c_a05c44905d0f679cdd90dd52f13074609_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{windsave2table__sub_8c_a05c44905d0f679cdd90dd52f13074609_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{windsave2table__sub_8c_a068b89ba269389ab9ae9e05572ab9218}\label{windsave2table__sub_8c_a068b89ba269389ab9ae9e05572ab9218}} 
\index{windsave2table\+\_\+sub.\+c@{windsave2table\+\_\+sub.\+c}!get\+\_\+one@{get\+\_\+one}}
\index{get\+\_\+one@{get\+\_\+one}!windsave2table\+\_\+sub.\+c@{windsave2table\+\_\+sub.\+c}}
\subsubsection{\texorpdfstring{get\+\_\+one()}{get\_one()}}
{\footnotesize\ttfamily double$\ast$ get\+\_\+one (\begin{DoxyParamCaption}\item[{int}]{ndom,  }\item[{variable\+\_\+name}]{ }\end{DoxyParamCaption})}



Get a simple variable from the Plasma\+Ptr array. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in,out}  & {\em int} & ndom The domain in question \\
\hline
\mbox{\tt in,out}  & {\em char} & variable\+\_\+name\mbox{[}\mbox{]} The name of the variable \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The values in the plasma pointer for this variable. A double will be returned even if the Plasma\+Ptr varible is an integer
\end{DoxyReturn}
A simple variable is a variable that is just a number, not an array

The routine performes a simple tranlation of the character name to a variable in the Plasma\+Ptr.

\paragraph*{Notes}

Only selected variables are returned, but new variables are easy to add using the template of the other variables 

Definition at line 992 of file windsave2table\+\_\+sub.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{windsave2table__sub_8c_a068b89ba269389ab9ae9e05572ab9218_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{windsave2table__sub_8c_a068b89ba269389ab9ae9e05572ab9218_icgraph}
\end{center}
\end{figure}
