\hypertarget{cooling_8c}{}\section{/\+Users/mhewitt/python/source/cooling.c File Reference}
\label{cooling_8c}\index{/\+Users/mhewitt/python/source/cooling.\+c@{/\+Users/mhewitt/python/source/cooling.\+c}}


File containg all (most) cooling mechanisms.  


{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include $<$stdlib.\+h$>$}\newline
{\ttfamily \#include $<$math.\+h$>$}\newline
{\ttfamily \#include \char`\"{}atomic.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}python.\+h\char`\"{}}\newline
Include dependency graph for cooling.\+c\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{cooling_8c__incl}
\end{center}
\end{figure}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
double \hyperlink{cooling_8c_abf7699b950ec2ef55a4e0087d82d0ab3}{cooling} (\hyperlink{python_8h_a13ce7664e071685e1c3eaac3c32d7c8d}{Plasma\+Ptr} \hyperlink{ionization_8c_a4894abff5157e9a38f8dd34d0d0c2b4a}{xxxplasma}, double \hyperlink{import__spherical_8c_afc1637b8a38578a1c95ed9f689476775}{t})
\begin{DoxyCompactList}\small\item\em calculate the total cooling of a cell at a temperature t \end{DoxyCompactList}\item 
double \hyperlink{cooling_8c_af3162ce29644bbfd1d6ef9060d972643}{xtotal\+\_\+emission} (\hyperlink{python_8h_ad957272e4ddecfb558775b2aeddf2ac4}{Wind\+Ptr} one, double f1, double f2)
\begin{DoxyCompactList}\small\item\em calculate the cooling of a single cell due to free free, bound -\/ boound and recombination processes. \end{DoxyCompactList}\item 
double \hyperlink{cooling_8c_acbbafed45b10980bb86fe7950daa0604}{adiabatic\+\_\+cooling} (\hyperlink{python_8h_ad957272e4ddecfb558775b2aeddf2ac4}{Wind\+Ptr} one, double \hyperlink{import__spherical_8c_afc1637b8a38578a1c95ed9f689476775}{t})
\begin{DoxyCompactList}\small\item\em determines the amount of adiabatic cooling in a cell, in units of luminosity. \end{DoxyCompactList}\item 
double \hyperlink{cooling_8c_a2a31b4c75dc8f482609abe7b1618a97b}{wind\+\_\+cooling} (double f1, double f2)
\begin{DoxyCompactList}\small\item\em calculate the cooling rate of the entire wind between freqencies f1 and f2 (including non-\/radiative processes \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
File containg all (most) cooling mechanisms. 

\begin{DoxyAuthor}{Author}
ksl 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
May, 2018 
\end{DoxyDate}


\subsection{Function Documentation}
\mbox{\Hypertarget{cooling_8c_acbbafed45b10980bb86fe7950daa0604}\label{cooling_8c_acbbafed45b10980bb86fe7950daa0604}} 
\index{cooling.\+c@{cooling.\+c}!adiabatic\+\_\+cooling@{adiabatic\+\_\+cooling}}
\index{adiabatic\+\_\+cooling@{adiabatic\+\_\+cooling}!cooling.\+c@{cooling.\+c}}
\subsubsection{\texorpdfstring{adiabatic\+\_\+cooling()}{adiabatic\_cooling()}}
{\footnotesize\ttfamily double adiabatic\+\_\+cooling (\begin{DoxyParamCaption}\item[{\hyperlink{python_8h_ad957272e4ddecfb558775b2aeddf2ac4}{Wind\+Ptr}}]{one,  }\item[{double}]{t }\end{DoxyParamCaption})}



determines the amount of adiabatic cooling in a cell, in units of luminosity. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em Wind\+Ptr} & one pointer to wind cell \\
\hline
\mbox{\tt in}  & {\em double} & t electron temperature \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The adiabiatic cooling (or heating) of a cell
\end{DoxyReturn}
Adiabatic cooling is the amount of PdV work done by a fluid element, per unit time dt. Thus it is equal to P d\+V/dt. d\+V/dt is given by $\ast$ the volume $\ast$ div v. As is evident from this what we call adiabatic cooling can heat the wind if div v is negative.

\paragraph*{Notes}

In calculating the adiabatic cooling we include the pressure from all particles. Adiabatic coolling due to the radiation pressure is not considered.

The routine does not populate xplasma-\/$>$cool\+\_\+adiabatic.

Note also that this function should only be called if geo.\+adiabatic == 1, in which case it populates xplasma-\/$>$cool\+\_\+adiabatic. This is used in heating and cooling balance. We also use it as a potential destruction choice for kpkts in which case the kpkt is thrown away by setting its istat to P\+\_\+\+A\+D\+I\+A\+B\+A\+T\+IC.

\begin{DoxyRefDesc}{Bug}
\item[\hyperlink{bug__bug000011}{Bug}]The statements here about not calling this routine are odd. There is no reason that the routine cannot be called any time since it does not populate cool\+\_\+adiabatic. And what really shold happen if we do not want to use cool\+\_\+adiabatic is that we should check when we want to calculate the total cooling that it is not done.\end{DoxyRefDesc}


Definition at line 270 of file cooling.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{cooling_8c_acbbafed45b10980bb86fe7950daa0604_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{cooling_8c_acbbafed45b10980bb86fe7950daa0604_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{cooling_8c_abf7699b950ec2ef55a4e0087d82d0ab3}\label{cooling_8c_abf7699b950ec2ef55a4e0087d82d0ab3}} 
\index{cooling.\+c@{cooling.\+c}!cooling@{cooling}}
\index{cooling@{cooling}!cooling.\+c@{cooling.\+c}}
\subsubsection{\texorpdfstring{cooling()}{cooling()}}
{\footnotesize\ttfamily double cooling (\begin{DoxyParamCaption}\item[{\hyperlink{python_8h_a13ce7664e071685e1c3eaac3c32d7c8d}{Plasma\+Ptr}}]{xxxplasma,  }\item[{double}]{t }\end{DoxyParamCaption})}



calculate the total cooling of a cell at a temperature t 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in,out}  & {\em Plasma\+Ptr} & xxxplasma A cell in the wind \\
\hline
\mbox{\tt in}  & {\em double} & t The temperature where cooling is calculated \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The total amount of cooling in a plasma cell,
\end{DoxyReturn}
The routine calculates cooling of a wind cell, storing the results of various different processes in various parameters of the plasma cell.

\paragraph*{Notes}

\begin{DoxyRefDesc}{Bug}
\item[\hyperlink{bug__bug000009}{Bug}]There appear to be redundant calls here to xtotal\+\_\+emission (which include calls to total\+\_\+fb, and to total\+\_\+fb in this routine. This makes it difficult to understand whether something is being counted twice.\end{DoxyRefDesc}


Definition at line 43 of file cooling.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{cooling_8c_abf7699b950ec2ef55a4e0087d82d0ab3_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{cooling_8c_abf7699b950ec2ef55a4e0087d82d0ab3_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{cooling_8c_a2a31b4c75dc8f482609abe7b1618a97b}\label{cooling_8c_a2a31b4c75dc8f482609abe7b1618a97b}} 
\index{cooling.\+c@{cooling.\+c}!wind\+\_\+cooling@{wind\+\_\+cooling}}
\index{wind\+\_\+cooling@{wind\+\_\+cooling}!cooling.\+c@{cooling.\+c}}
\subsubsection{\texorpdfstring{wind\+\_\+cooling()}{wind\_cooling()}}
{\footnotesize\ttfamily double wind\+\_\+cooling (\begin{DoxyParamCaption}\item[{double}]{f1,  }\item[{double}]{f2 }\end{DoxyParamCaption})}



calculate the cooling rate of the entire wind between freqencies f1 and f2 (including non-\/radiative processes 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em double} & f1 The minimum frequency \\
\hline
\mbox{\tt in}  & {\em double} & f2 The maximum frequency \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The total cooling rate of the wind
\end{DoxyReturn}
Various parameters in geo having to do with the total cooling for the various properties are also populated.

This routine cycles through all of the wind cells and calculates the cooling rate in each cell.

\paragraph*{Notes}

This is not the same as the luminosty of the wind, because it includes non-\/radiative processes, such as adiabatic and Compton cooling.

Non-\/radiative process include adiabatic cooling, Compton cooling, dielectronic recombination, direct ionization

Adiabatic cooling is summed separately for cells where the adiabatic cooling is positive (tends to cool the wind) and negative (tends to heat the wind.. 

Definition at line 329 of file cooling.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{cooling_8c_a2a31b4c75dc8f482609abe7b1618a97b_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{cooling_8c_af3162ce29644bbfd1d6ef9060d972643}\label{cooling_8c_af3162ce29644bbfd1d6ef9060d972643}} 
\index{cooling.\+c@{cooling.\+c}!xtotal\+\_\+emission@{xtotal\+\_\+emission}}
\index{xtotal\+\_\+emission@{xtotal\+\_\+emission}!cooling.\+c@{cooling.\+c}}
\subsubsection{\texorpdfstring{xtotal\+\_\+emission()}{xtotal\_emission()}}
{\footnotesize\ttfamily double xtotal\+\_\+emission (\begin{DoxyParamCaption}\item[{\hyperlink{python_8h_ad957272e4ddecfb558775b2aeddf2ac4}{Wind\+Ptr}}]{one,  }\item[{double}]{f1,  }\item[{double}]{f2 }\end{DoxyParamCaption})}



calculate the cooling of a single cell due to free free, bound -\/ boound and recombination processes. 


\begin{DoxyParams}[1]{Parameters}
 & {\em \mbox{[}in} & out\mbox{]} Wind\+Ptr one A singel wind cell \\
\hline
\mbox{\tt in}  & {\em double} & f1 The minimum frequecny \\
\hline
\mbox{\tt in}  & {\em double} & f2 The maximum frequecny \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The cooling rate
\end{DoxyReturn}
xtotal\+\_\+emission gives the total enery loss due to photons. It does not include other coooling sources, e. g. adiabatic expansion.

\paragraph*{Notes}

It returns the total cooling, but also stores the luminosity due to various types of emssion, e.\+g ff and lines into the Plasms cells. The fb cooling calculated here is {\itshape not} equal to the fb lumniosity and so this value is stored in cool\+\_\+rr.

\begin{DoxyRefDesc}{Bug}
\item[\hyperlink{bug__bug000010}{Bug}]The call to this routine was changed when Plasma\+Ptrs were introduced, but it appears that the various routines that were called were not changed. This needs to be fixed for consistency\end{DoxyRefDesc}


Definition at line 162 of file cooling.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{cooling_8c_af3162ce29644bbfd1d6ef9060d972643_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{cooling_8c_af3162ce29644bbfd1d6ef9060d972643_icgraph}
\end{center}
\end{figure}
