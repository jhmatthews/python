\hypertarget{windsave_8c}{}\section{/\+Users/mhewitt/python/source/windsave.c File Reference}
\label{windsave_8c}\index{/\+Users/mhewitt/python/source/windsave.\+c@{/\+Users/mhewitt/python/source/windsave.\+c}}


Routines to save and read in the structues the constitute a model and and spectra which have been genrerated.  


{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include $<$stdlib.\+h$>$}\newline
{\ttfamily \#include $<$string.\+h$>$}\newline
{\ttfamily \#include $<$math.\+h$>$}\newline
{\ttfamily \#include \char`\"{}atomic.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}python.\+h\char`\"{}}\newline
Include dependency graph for windsave.\+c\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{windsave_8c__incl}
\end{center}
\end{figure}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{windsave_8c_ad7242ab560deb4056128ae32d6aad6d7}{wind\+\_\+save} (filename)
\begin{DoxyCompactList}\small\item\em Save all of the strutures associated with the wind to a file. \end{DoxyCompactList}\item 
int \hyperlink{windsave_8c_a1bf368d85f72b220cc4cba091a5e0702}{wind\+\_\+read} (filename)
\begin{DoxyCompactList}\small\item\em Read back the windsavefile. \end{DoxyCompactList}\item 
int \hyperlink{windsave_8c_ad5c30455dbf640e7a5d68132a8e4a5c5}{wind\+\_\+complete} (\hyperlink{python_8h_ad957272e4ddecfb558775b2aeddf2ac4}{Wind\+Ptr} w)
\begin{DoxyCompactList}\small\item\em A driver routine that calls coordinate-\/system specific routines that complete the descirption of the wind. \end{DoxyCompactList}\item 
int \hyperlink{windsave_8c_a1f9b8e8e39b54c186a4be49c525931d0}{spec\+\_\+save} (filename)
\begin{DoxyCompactList}\small\item\em Save all the spectra to a binary file. \end{DoxyCompactList}\item 
int \hyperlink{windsave_8c_afacb93359034d4da38e696261c282ee7}{spec\+\_\+read} (filename)
\begin{DoxyCompactList}\small\item\em Read the binary file containing all the spectra. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Routines to save and read in the structues the constitute a model and and spectra which have been genrerated. 

\begin{DoxyAuthor}{Author}
ksl 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
March, 2018
\end{DoxyDate}
The first two routines in this file write and read the wind structure. The second two routines do the same thing for the spectrum structure

\paragraph*{Notes}

The files here are all written out as binary files. They are used for restars, and also by routines like py\+\_\+wind and windsave2talbe which inspect what is happening in the wind.

There are separate ascii\+\_\+writing routines for writing the spectra out for plotting.) 

\subsection{Function Documentation}
\mbox{\Hypertarget{windsave_8c_afacb93359034d4da38e696261c282ee7}\label{windsave_8c_afacb93359034d4da38e696261c282ee7}} 
\index{windsave.\+c@{windsave.\+c}!spec\+\_\+read@{spec\+\_\+read}}
\index{spec\+\_\+read@{spec\+\_\+read}!windsave.\+c@{windsave.\+c}}
\subsubsection{\texorpdfstring{spec\+\_\+read()}{spec\_read()}}
{\footnotesize\ttfamily int spec\+\_\+read (\begin{DoxyParamCaption}\item[{filename}]{ }\end{DoxyParamCaption})}



Read the binary file containing all the spectra. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em char} & filename\mbox{[}\mbox{]} The name of the file \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The number of spectra that were read in
\end{DoxyReturn}
The routine allocates space for the spectra and reads then in.

\paragraph*{Notes}

The first line of the file contains the Python version and the number of spectra to be read in

The program exits if the file does not exist 

Definition at line 439 of file windsave.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{windsave_8c_afacb93359034d4da38e696261c282ee7_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{windsave_8c_a1f9b8e8e39b54c186a4be49c525931d0}\label{windsave_8c_a1f9b8e8e39b54c186a4be49c525931d0}} 
\index{windsave.\+c@{windsave.\+c}!spec\+\_\+save@{spec\+\_\+save}}
\index{spec\+\_\+save@{spec\+\_\+save}!windsave.\+c@{windsave.\+c}}
\subsubsection{\texorpdfstring{spec\+\_\+save()}{spec\_save()}}
{\footnotesize\ttfamily int spec\+\_\+save (\begin{DoxyParamCaption}\item[{filename}]{ }\end{DoxyParamCaption})}



Save all the spectra to a binary file. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em char} & filename\mbox{[}\mbox{]} The file to write to \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The number of successful writes
\end{DoxyReturn}
\paragraph*{Notes}

The program exits if one cannot write the file 

Definition at line 393 of file windsave.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{windsave_8c_a1f9b8e8e39b54c186a4be49c525931d0_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{windsave_8c_ad5c30455dbf640e7a5d68132a8e4a5c5}\label{windsave_8c_ad5c30455dbf640e7a5d68132a8e4a5c5}} 
\index{windsave.\+c@{windsave.\+c}!wind\+\_\+complete@{wind\+\_\+complete}}
\index{wind\+\_\+complete@{wind\+\_\+complete}!windsave.\+c@{windsave.\+c}}
\subsubsection{\texorpdfstring{wind\+\_\+complete()}{wind\_complete()}}
{\footnotesize\ttfamily int wind\+\_\+complete (\begin{DoxyParamCaption}\item[{\hyperlink{python_8h_ad957272e4ddecfb558775b2aeddf2ac4}{Wind\+Ptr}}]{w }\end{DoxyParamCaption})}



A driver routine that calls coordinate-\/system specific routines that complete the descirption of the wind. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em Wind\+Ptr} & w The entire wind \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Always returns 0
\end{DoxyReturn}
For the most point, the various routines that are called just recalculate some of the various arrays used for finding the boundaries of an individual cell.

\paragraph*{Notes}

The need to call this routine whenever a windsave file is read in could be obviated if all of the variable length arrays in domains were actually written out. But since these variables are easy to calculate again, it is done here. 

Definition at line 339 of file windsave.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{windsave_8c_ad5c30455dbf640e7a5d68132a8e4a5c5_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=309pt]{windsave_8c_ad5c30455dbf640e7a5d68132a8e4a5c5_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{windsave_8c_a1bf368d85f72b220cc4cba091a5e0702}\label{windsave_8c_a1bf368d85f72b220cc4cba091a5e0702}} 
\index{windsave.\+c@{windsave.\+c}!wind\+\_\+read@{wind\+\_\+read}}
\index{wind\+\_\+read@{wind\+\_\+read}!windsave.\+c@{windsave.\+c}}
\subsubsection{\texorpdfstring{wind\+\_\+read()}{wind\_read()}}
{\footnotesize\ttfamily int wind\+\_\+read (\begin{DoxyParamCaption}\item[{filename}]{ }\end{DoxyParamCaption})}



Read back the windsavefile. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em char} & filename\mbox{[}\mbox{]} The full name of the windsave file \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The number of successful reads, or -\/1 if the file cannot be opened
\end{DoxyReturn}
The routine reads in both the windsave file and the associated atomic data files for a model

\paragraph*{Notes}

\begin{DoxyRefDesc}{Bug}
\item[\hyperlink{bug__bug000065}{Bug}]This routine calls wind\+\_\+complete, but it is not entirely clear why, as the values calculated there are already in the domain structure, so this seems redundant. However there is an issue \#41 which has to do with reading in windcones that affects this. \end{DoxyRefDesc}


Definition at line 183 of file windsave.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{windsave_8c_a1bf368d85f72b220cc4cba091a5e0702_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{windsave_8c_ad7242ab560deb4056128ae32d6aad6d7}\label{windsave_8c_ad7242ab560deb4056128ae32d6aad6d7}} 
\index{windsave.\+c@{windsave.\+c}!wind\+\_\+save@{wind\+\_\+save}}
\index{wind\+\_\+save@{wind\+\_\+save}!windsave.\+c@{windsave.\+c}}
\subsubsection{\texorpdfstring{wind\+\_\+save()}{wind\_save()}}
{\footnotesize\ttfamily int wind\+\_\+save (\begin{DoxyParamCaption}\item[{filename}]{ }\end{DoxyParamCaption})}



Save all of the strutures associated with the wind to a file. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em char} & filename\mbox{[}\mbox{]} The name of the file to write to \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The number of successful writes
\end{DoxyReturn}
\paragraph*{Notes}

For the most part, adding a variable to the structures geo, or plasma, does not require changes to this routine, unless new variable length arrays are involved. 

Definition at line 53 of file windsave.\+c.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{windsave_8c_ad7242ab560deb4056128ae32d6aad6d7_cgraph}
\end{center}
\end{figure}
